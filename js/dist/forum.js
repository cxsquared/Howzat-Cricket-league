module.exports=function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=46)}([function(t,e){t.exports=flarum.core.compat.app},function(t,e){t.exports=flarum.core.compat.Model},function(t,e){t.exports=flarum.core.compat["components/Button"]},function(t,e){t.exports=flarum.core.compat.Component},function(t,e){t.exports=flarum.core.compat["components/LoadingIndicator"]},function(t,e){t.exports=flarum.core.compat["components/LinkButton"]},function(t,e){t.exports=flarum.core.compat["components/IndexPage"]},function(t,e){t.exports=flarum.core.compat["helpers/listItems"]},function(t,e){t.exports=flarum.core.compat["utils/ItemList"]},function(t,e){t.exports=flarum.core.compat["utils/computed"]},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["utils/Stream"]},function(t,e,a){"use strict";var n=a(40),r=a(43),i=[].slice,o=["keyword","gray","hex"],s={};Object.keys(r).forEach((function(t){s[i.call(r[t].labels).sort().join("")]=t}));var l={};function u(t,e){if(!(this instanceof u))return new u(t,e);if(e&&e in o&&(e=null),e&&!(e in r))throw new Error("Unknown model: "+e);var a,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof u)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var d=n.get(t);if(null===d)throw new Error("Unable to parse color from string: "+t);this.model=d.model,c=r[this.model].channels,this.color=d.value.slice(0,c),this.valpha="number"==typeof d.value[c]?d.value[c]:1}else if(t.length){this.model=e||"rgb",c=r[this.model].channels;var h=i.call(t,0,c);this.color=m(h,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var p=Object.keys(t);"alpha"in t&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var f=p.sort().join("");if(!(f in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[f];var v=r[this.model].labels,g=[];for(a=0;a<v.length;a++)g.push(t[v[a]]);this.color=m(g)}if(l[this.model])for(c=r[this.model].channels,a=0;a<c;a++){var y=l[this.model][a];y&&(this.color[a]=y(this.color[a]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(t,e,a){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(l[t]||(l[t]=[]))[e]=a})),t=t[0],function(n){var r;return arguments.length?(a&&(n=a(n)),(r=this[t]()).color[e]=n,r):(r=this[t]().color[e],a&&(r=a(r)),r)}}function d(t){return function(e){return Math.max(0,Math.min(t,e))}}function h(t){return Array.isArray(t)?t:[t]}function m(t,e){for(var a=0;a<e;a++)"number"!=typeof t[a]&&(t[a]=0);return t}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in n.to?this:this.rgb(),a=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return n.to[e.model](a)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),a=1===e.valpha?e.color:e.color.concat(this.valpha);return n.to.rgb.percent(a)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=r[this.model].channels,a=r[this.model].labels,n=0;n<e;n++)t[a[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new u(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:c("rgb",0,d(255)),green:c("rgb",1,d(255)),blue:c("rgb",2,d(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:c("hsl",1,d(100)),lightness:c("hsl",2,d(100)),saturationv:c("hsv",1,d(100)),value:c("hsv",2,d(100)),chroma:c("hcg",1,d(100)),gray:c("hcg",2,d(100)),white:c("hwb",1,d(100)),wblack:c("hwb",2,d(100)),cyan:c("cmyk",0,d(100)),magenta:c("cmyk",1,d(100)),yellow:c("cmyk",2,d(100)),black:c("cmyk",3,d(100)),x:c("xyz",0,d(100)),y:c("xyz",1,d(100)),z:c("xyz",2,d(100)),l:c("lab",0,d(100)),a:c("lab",1),b:c("lab",2),keyword:function(t){return arguments.length?new u(t):r[this.model].keyword(this.color)},hex:function(t){return arguments.length?new u(t):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],a=0;a<t.length;a++){var n=t[a]/255;e[a]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),a=t.luminosity();return e>a?(e+.05)/(a+.05):(a+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return u.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),a=e.color[0];return a=(a=(a+t)%360)<0?360+a:a,e.color[0]=a,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var a=t.rgb(),n=this.rgb(),r=void 0===e?.5:e,i=2*r-1,o=a.alpha()-n.alpha(),s=((i*o==-1?i:(i+o)/(1+i*o))+1)/2,l=1-s;return u.rgb(s*a.red()+l*n.red(),s*a.green()+l*n.green(),s*a.blue()+l*n.blue(),a.alpha()*r+n.alpha()*(1-r))}},Object.keys(r).forEach((function(t){if(-1===o.indexOf(t)){var e=r[t].channels;u.prototype[t]=function(){if(this.model===t)return new u(this);if(arguments.length)return new u(arguments,t);var a="number"==typeof arguments[e]?e:this.valpha;return new u(h(r[this.model][t].raw(this.color)).concat(a),t)},u[t]=function(a){return"number"==typeof a&&(a=m(i.call(arguments),e)),new u(a,t)}}})),t.exports=u},function(t,e){t.exports=flarum.core.compat["components/Select"]},function(t,e){t.exports=flarum.core.compat["components/Placeholder"]},function(t,e){t.exports=flarum.core.compat["components/Modal"]},function(t,e){t.exports=flarum.core.compat["components/Page"]},function(t,e){t.exports=flarum.core.compat["helpers/username"]},function(t,e){t.exports=flarum.core.compat["components/Link"]},function(t,e,a){t.exports=function(){"use strict";var t="millisecond",e="second",a="minute",n="hour",r="day",i="week",o="month",s="quarter",l="year",u="date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,d=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,a){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(a)+t},p={s:m,z:function(t){var e=-t.utcOffset(),a=Math.abs(e),n=Math.floor(a/60),r=a%60;return(e<=0?"+":"-")+m(n,2,"0")+":"+m(r,2,"0")},m:function t(e,a){if(e.date()<a.date())return-t(a,e);var n=12*(a.year()-e.year())+(a.month()-e.month()),r=e.clone().add(n,o),i=a-r<0,s=e.clone().add(n+(i?-1:1),o);return+(-(n+(a-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(c){return{M:o,y:l,w:i,d:r,D:u,h:n,m:a,s:e,ms:t,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},f="en",v={};v[f]=h;var g=function(t){return t instanceof S},y=function(t,e,a){var n;if(!t)return f;if("string"==typeof t)v[t]&&(n=t),e&&(v[t]=e,n=t);else{var r=t.name;v[r]=t,n=r}return!a&&n&&(f=n),n||!a&&f},b=function(t,e){if(g(t))return t.clone();var a="object"==typeof e?e:{};return a.date=t,a.args=arguments,new S(a)},w=p;w.l=y,w.i=g,w.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function h(t){this.$L=y(t.locale,null,!0),this.parse(t)}var m=h.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,a=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(c);if(n){var r=n[2]-1||0,i=(n[7]||"0").substring(0,3);return a?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return w},m.isValid=function(){return!("Invalid Date"===this.$d.toString())},m.isSame=function(t,e){var a=b(t);return this.startOf(e)<=a&&a<=this.endOf(e)},m.isAfter=function(t,e){return b(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<b(t)},m.$g=function(t,e,a){return w.u(t)?this[e]:this.set(a,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,s){var c=this,d=!!w.u(s)||s,h=w.p(t),m=function(t,e){var a=w.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return d?a:a.endOf(r)},p=function(t,e){return w.w(c.toDate()[t].apply(c.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},f=this.$W,v=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case l:return d?m(1,0):m(31,11);case o:return d?m(1,v):m(0,v+1);case i:var b=this.$locale().weekStart||0,S=(f<b?f+7:f)-b;return m(d?g-S:g+(6-S),v);case r:case u:return p(y+"Hours",0);case n:return p(y+"Minutes",1);case a:return p(y+"Seconds",2);case e:return p(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(i,s){var c,d=w.p(i),h="set"+(this.$u?"UTC":""),m=(c={},c[r]=h+"Date",c[u]=h+"Date",c[o]=h+"Month",c[l]=h+"FullYear",c[n]=h+"Hours",c[a]=h+"Minutes",c[e]=h+"Seconds",c[t]=h+"Milliseconds",c)[d],p=d===r?this.$D+(s-this.$W):s;if(d===o||d===l){var f=this.clone().set(u,1);f.$d[m](p),f.init(),this.$d=f.set(u,Math.min(this.$D,f.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[w.p(t)]()},m.add=function(t,s){var u,c=this;t=Number(t);var d=w.p(s),h=function(e){var a=b(c);return w.w(a.date(a.date()+Math.round(e*t)),c)};if(d===o)return this.set(o,this.$M+t);if(d===l)return this.set(l,this.$y+t);if(d===r)return h(1);if(d===i)return h(7);var m=(u={},u[a]=6e4,u[n]=36e5,u[e]=1e3,u)[d]||1,p=this.$d.getTime()+t*m;return w.w(p,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var a=t||"YYYY-MM-DDTHH:mm:ssZ",n=w.z(this),r=this.$locale(),i=this.$H,o=this.$m,s=this.$M,l=r.weekdays,u=r.months,c=function(t,n,r,i){return t&&(t[n]||t(e,a))||r[n].substr(0,i)},h=function(t){return w.s(i%12||12,t,"0")},m=r.meridiem||function(t,e,a){var n=t<12?"AM":"PM";return a?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:w.s(s+1,2,"0"),MMM:c(r.monthsShort,s,u,3),MMMM:c(u,s),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:c(r.weekdaysMin,this.$W,l,2),ddd:c(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:w.s(i,2,"0"),h:h(1),hh:h(2),a:m(i,o,!0),A:m(i,o,!1),m:String(o),mm:w.s(o,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:n};return a.replace(d,(function(t,e){return e||p[t]||n.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(t,u,c){var d,h=w.p(u),m=b(t),p=6e4*(m.utcOffset()-this.utcOffset()),f=this-m,v=w.m(this,m);return v=(d={},d[l]=v/12,d[o]=v,d[s]=v/3,d[i]=(f-p)/6048e5,d[r]=(f-p)/864e5,d[n]=f/36e5,d[a]=f/6e4,d[e]=f/1e3,d)[h]||f,c?v:w.a(v)},m.daysInMonth=function(){return this.endOf(o).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var a=this.clone(),n=y(t,e,!0);return n&&(a.$L=n),a},m.clone=function(){return w.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},h}(),k=S.prototype;return b.prototype=k,[["$ms",t],["$s",e],["$m",a],["$H",n],["$W",r],["$M",o],["$y",l],["$D",u]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t(e,S,b),b},b.locale=y,b.isDayjs=g,b.unix=function(t){return b(1e3*t)},b.en=v[f],b.Ls=v,b.p={},b}()},function(t,e){t.exports=flarum.core.compat["components/UserPage"]},function(t,e){t.exports=flarum.core.compat["models/User"]},function(t,e){t.exports=flarum.core.compat["helpers/icon"]},function(t,e){t.exports=flarum.core.compat["components/SelectDropdown"]},function(t,e){t.exports=flarum.core.compat["helpers/humanTime"]},function(t,e){t.exports=flarum.core.compat["components/Notification"]},function(t,e,a){"use strict";var n=a(45),r={},i={};function o(t){r[t.name.toLowerCase()]=t.code,i[t.code.toLowerCase()]=t.name}n.forEach(o),e.overwrite=function(t){t&&t.length&&t.forEach((function(t){var e=n.findIndex((function(e){return e.code===t.code}));n[e]=t,o(t)}))},e.getCode=function(t){return r[t.toLowerCase()]},e.getName=function(t){return i[t.toLowerCase()]},e.getNames=function(){return n.map((function(t){return t.name}))},e.getCodes=function(){return n.map((function(t){return t.code}))},e.getCodeList=function(){return i},e.getNameList=function(){return r},e.getData=function(){return n}},,function(t,e,a){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,a){var n=a(28),r={};for(var i in n)n.hasOwnProperty(i)&&(r[n[i]]=i);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in o)if(o.hasOwnProperty(s)){if(!("channels"in o[s]))throw new Error("missing channels property: "+s);if(!("labels"in o[s]))throw new Error("missing channel labels property: "+s);if(o[s].labels.length!==o[s].channels)throw new Error("channel and label counts mismatch: "+s);var l=o[s].channels,u=o[s].labels;delete o[s].channels,delete o[s].labels,Object.defineProperty(o[s],"channels",{value:l}),Object.defineProperty(o[s],"labels",{value:u})}o.rgb.hsl=function(t){var e,a,n=t[0]/255,r=t[1]/255,i=t[2]/255,o=Math.min(n,r,i),s=Math.max(n,r,i),l=s-o;return s===o?e=0:n===s?e=(r-i)/l:r===s?e=2+(i-n)/l:i===s&&(e=4+(n-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),a=(o+s)/2,[e,100*(s===o?0:a<=.5?l/(s+o):l/(2-s-o)),100*a]},o.rgb.hsv=function(t){var e,a,n,r,i,o=t[0]/255,s=t[1]/255,l=t[2]/255,u=Math.max(o,s,l),c=u-Math.min(o,s,l),d=function(t){return(u-t)/6/c+.5};return 0===c?r=i=0:(i=c/u,e=d(o),a=d(s),n=d(l),o===u?r=n-a:s===u?r=1/3+e-n:l===u&&(r=2/3+a-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*i,100*u]},o.rgb.hwb=function(t){var e=t[0],a=t[1],n=t[2];return[o.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(a,n))),100*(n=1-1/255*Math.max(e,Math.max(a,n)))]},o.rgb.cmyk=function(t){var e,a=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*((1-a-(e=Math.min(1-a,1-n,1-r)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]},o.rgb.keyword=function(t){var e=r[t];if(e)return e;var a,i,o,s=1/0;for(var l in n)if(n.hasOwnProperty(l)){var u=n[l],c=(i=t,o=u,Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)+Math.pow(i[2]-o[2],2));c<s&&(s=c,a=l)}return a},o.keyword.rgb=function(t){return n[t]},o.rgb.xyz=function(t){var e=t[0]/255,a=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*a+.0722*n),100*(.0193*e+.1192*a+.9505*n)]},o.rgb.lab=function(t){var e=o.rgb.xyz(t),a=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,a=(a/=95.047)>.008856?Math.pow(a,1/3):7.787*a+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(a-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},o.hsl.rgb=function(t){var e,a,n,r,i,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[i=255*l,i,i];e=2*l-(a=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)(n=o+1/3*-(u-1))<0&&n++,n>1&&n--,i=6*n<1?e+6*(a-e)*n:2*n<1?a:3*n<2?e+(a-e)*(2/3-n)*6:e,r[u]=255*i;return r},o.hsl.hsv=function(t){var e=t[0],a=t[1]/100,n=t[2]/100,r=a,i=Math.max(n,.01);return a*=(n*=2)<=1?n:2-n,r*=i<=1?i:2-i,[e,100*(0===n?2*r/(i+r):2*a/(n+a)),100*((n+a)/2)]},o.hsv.rgb=function(t){var e=t[0]/60,a=t[1]/100,n=t[2]/100,r=Math.floor(e)%6,i=e-Math.floor(e),o=255*n*(1-a),s=255*n*(1-a*i),l=255*n*(1-a*(1-i));switch(n*=255,r){case 0:return[n,l,o];case 1:return[s,n,o];case 2:return[o,n,l];case 3:return[o,s,n];case 4:return[l,o,n];case 5:return[n,o,s]}},o.hsv.hsl=function(t){var e,a,n,r=t[0],i=t[1]/100,o=t[2]/100,s=Math.max(o,.01);return n=(2-i)*o,a=i*s,[r,100*(a=(a/=(e=(2-i)*s)<=1?e:2-e)||0),100*(n/=2)]},o.hwb.rgb=function(t){var e,a,n,r,i,o,s,l=t[0]/360,u=t[1]/100,c=t[2]/100,d=u+c;switch(d>1&&(u/=d,c/=d),n=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(n=1-n),r=u+n*((a=1-c)-u),e){default:case 6:case 0:i=a,o=r,s=u;break;case 1:i=r,o=a,s=u;break;case 2:i=u,o=a,s=r;break;case 3:i=u,o=r,s=a;break;case 4:i=r,o=u,s=a;break;case 5:i=a,o=u,s=r}return[255*i,255*o,255*s]},o.cmyk.rgb=function(t){var e=t[0]/100,a=t[1]/100,n=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,a*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},o.xyz.rgb=function(t){var e,a,n,r=t[0]/100,i=t[1]/100,o=t[2]/100;return a=-.9689*r+1.8758*i+.0415*o,n=.0557*r+-.204*i+1.057*o,e=(e=3.2406*r+-1.5372*i+-.4986*o)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(a=Math.min(Math.max(0,a),1)),255*(n=Math.min(Math.max(0,n),1))]},o.xyz.lab=function(t){var e=t[0],a=t[1],n=t[2];return a/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116)-16,500*(e-a),200*(a-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},o.lab.xyz=function(t){var e,a,n,r=t[0];e=t[1]/500+(a=(r+16)/116),n=a-t[2]/200;var i=Math.pow(a,3),o=Math.pow(e,3),s=Math.pow(n,3);return a=i>.008856?i:(a-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,[e*=95.047,a*=100,n*=108.883]},o.lab.lch=function(t){var e,a=t[0],n=t[1],r=t[2];return(e=360*Math.atan2(r,n)/2/Math.PI)<0&&(e+=360),[a,Math.sqrt(n*n+r*r),e]},o.lch.lab=function(t){var e,a=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[a,n*Math.cos(e),n*Math.sin(e)]},o.rgb.ansi16=function(t){var e=t[0],a=t[1],n=t[2],r=1 in arguments?arguments[1]:o.rgb.hsv(t)[2];if(0===(r=Math.round(r/50)))return 30;var i=30+(Math.round(n/255)<<2|Math.round(a/255)<<1|Math.round(e/255));return 2===r&&(i+=60),i},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){var e=t[0],a=t[1],n=t[2];return e===a&&a===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(a/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var a=.5*(1+~~(t>50));return[(1&e)*a*255,(e>>1&1)*a*255,(e>>2&1)*a*255]},o.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var a;return t-=16,[Math.floor(t/36)/5*255,Math.floor((a=t%36)/6)/5*255,a%6/5*255]},o.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var a=e[0];3===e[0].length&&(a=a.split("").map((function(t){return t+t})).join(""));var n=parseInt(a,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(t){var e,a=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(a,n),r),o=Math.min(Math.min(a,n),r),s=i-o;return e=s<=0?0:i===a?(n-r)/s%6:i===n?2+(r-a)/s:4+(a-n)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?o/(1-s):0)]},o.hsl.hcg=function(t){var e=t[1]/100,a=t[2]/100,n=1,r=0;return(n=a<.5?2*e*a:2*e*(1-a))<1&&(r=(a-.5*n)/(1-n)),[t[0],100*n,100*r]},o.hsv.hcg=function(t){var e=t[1]/100,a=t[2]/100,n=e*a,r=0;return n<1&&(r=(a-n)/(1-n)),[t[0],100*n,100*r]},o.hcg.rgb=function(t){var e=t[0]/360,a=t[1]/100,n=t[2]/100;if(0===a)return[255*n,255*n,255*n];var r,i=[0,0,0],o=e%1*6,s=o%1,l=1-s;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return r=(1-a)*n,[255*(a*i[0]+r),255*(a*i[1]+r),255*(a*i[2]+r)]},o.hcg.hsv=function(t){var e=t[1]/100,a=e+t[2]/100*(1-e),n=0;return a>0&&(n=e/a),[t[0],100*n,100*a]},o.hcg.hsl=function(t){var e=t[1]/100,a=t[2]/100*(1-e)+.5*e,n=0;return a>0&&a<.5?n=e/(2*a):a>=.5&&a<1&&(n=e/(2*(1-a))),[t[0],100*n,100*a]},o.hcg.hwb=function(t){var e=t[1]/100,a=e+t[2]/100*(1-e);return[t[0],100*(a-e),100*(1-a)]},o.hwb.hcg=function(t){var e=t[1]/100,a=1-t[2]/100,n=a-e,r=0;return n<1&&(r=(a-n)/(1-n)),[t[0],100*n,100*r]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=o.gray.hsv=function(t){return[0,0,t[0]]},o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),a=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(a.length)+a},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e){t.exports=flarum.core.compat["utils/PostControls"]},function(t,e){t.exports=flarum.core.compat["components/HeaderPrimary"]},function(t,e){t.exports=flarum.core.compat["components/SessionDropdown"]},function(t,e){t.exports=flarum.core.compat["components/NotificationGrid"]},function(t,e){t.exports=flarum.core.compat["components/FieldSet"]},function(t,e){t.exports=flarum.core.compat["utils/withAttr"]},function(t,e,a){window,t.exports=function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){"use strict";a.r(e),a(1);var n=[],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],o={t:"top",r:"right",b:"bottom",l:"left",c:"centered"};function s(){}var l=["click","focusin","keydown","input"];function u(t){l.forEach((function(e){t.addEventListener(e,t===document?x:U)}))}function c(t){return Array.isArray(t)?t.map(c):"[object Object]"===D(t)?Object.keys(t).reduce((function(e,a){return e[a]=c(t[a]),e}),{}):t}function d(t,e){var a=t.calendar.querySelector(".qs-overlay"),n=a&&!a.classList.contains("qs-hidden");e=e||new Date(t.currentYear,t.currentMonth),t.calendar.innerHTML=[h(e,t,n),m(e,t,n),p(t,n)].join(""),n&&window.requestAnimationFrame((function(){C(!0,t)}))}function h(t,e,a){return['<div class="qs-controls'+(a?" qs-blur":"")+'">','<div class="qs-arrow qs-left"></div>','<div class="qs-month-year">','<span class="qs-month">'+e.months[t.getMonth()]+"</span>",'<span class="qs-year">'+t.getFullYear()+"</span>","</div>",'<div class="qs-arrow qs-right"></div>',"</div>"].join("")}function m(t,e,a){var n=e.currentMonth,r=e.currentYear,i=e.dateSelected,o=e.maxDate,s=e.minDate,l=e.showAllDates,u=e.days,c=e.disabledDates,d=e.startDay,h=(e.weekendIndices,e.events),m=e.getRange?e.getRange():{},p=+m.start,f=+m.end,v=S(new Date(t).setDate(1)),g=v.getDay()-d,y=g<0?7:0;v.setMonth(v.getMonth()+1),v.setDate(0);var b=v.getDate(),w=[],k=y+7*((g+b)/7|0);k+=(g+b)%7?7:0;for(var N=1;N<=k;N++){var C=(N-1)%7,M=u[C],D=N-(g>=0?g:7+g),P=new Date(r,n,D),x=h[+P],U=D<1||D>b,E=U?D<1?-1:1:0,_=U&&!l,T=_?"":P.getDate(),I=0===C||6===C,A=p!==f,O="qs-square "+M;x&&!_&&(O+=" qs-event"),U&&(O+=" qs-outside-current-month"),!l&&U||(O+=" qs-num"),+P==+i&&(O+=" qs-active"),(c[+P]||e.disabler(P)||I&&e.noWeekends||s&&+P<+s||o&&+P>+o)&&!_&&(O+=" qs-disabled"),+S(new Date)==+P&&(O+=" qs-current"),+P===p&&f&&A&&(O+=" qs-range-start"),+P>p&&+P<f&&(O+=" qs-range-middle"),+P===f&&p&&A&&(O+=" qs-range-end"),_&&(O+=" qs-empty",T=""),w.push('<div class="'+O+'" data-direction="'+E+'">'+T+"</div>")}var B=u.map((function(t){return'<div class="qs-square qs-day">'+t+"</div>"})).concat(w);return B.unshift('<div class="qs-squares'+(a?" qs-blur":"")+'">'),B.push("</div>"),B.join("")}function p(t,e){var a=t.overlayPlaceholder,n=t.overlayButton;return['<div class="qs-overlay'+(e?"":" qs-hidden")+'">',"<div>",'<input class="qs-overlay-year" placeholder="'+a+'" />','<div class="qs-close">&#10005;</div>',"</div>",'<div class="qs-overlay-month-container">'+t.overlayMonths.map((function(t,e){return'<div class="qs-overlay-month" data-month-num="'+e+'">'+t+"</div>"})).join("")+"</div>",'<div class="qs-submit qs-disabled">'+n+"</div>","</div>"].join("")}function f(t,e,a){var n=e.el,r=e.calendar.querySelector(".qs-active"),i=t.textContent,o=e.sibling;(n.disabled||n.readOnly)&&e.respectDisabledReadOnly||(e.dateSelected=a?void 0:new Date(e.currentYear,e.currentMonth,i),r&&r.classList.remove("qs-active"),a||t.classList.add("qs-active"),g(n,e,a),a||k(e),o&&(v({instance:e,deselect:a}),e.first&&!o.dateSelected&&(o.currentYear=e.currentYear,o.currentMonth=e.currentMonth,o.currentMonthName=e.currentMonthName),d(e),d(o)),e.onSelect(e,a?void 0:new Date(e.dateSelected)))}function v(t){var e=t.instance.first?t.instance:t.instance.sibling,a=e.sibling;e===t.instance?t.deselect?(e.minDate=e.originalMinDate,a.minDate=a.originalMinDate):a.minDate=e.dateSelected:t.deselect?(a.maxDate=a.originalMaxDate,e.maxDate=e.originalMaxDate):e.maxDate=a.dateSelected}function g(t,e,a){if(!e.nonInput)return a?t.value="":e.formatter!==s?e.formatter(t,e.dateSelected,e):void(t.value=e.dateSelected.toDateString())}function y(t,e,a,n){a||n?(a&&(e.currentYear=+a),n&&(e.currentMonth=+n)):(e.currentMonth+=t.contains("qs-right")?1:-1,12===e.currentMonth?(e.currentMonth=0,e.currentYear++):-1===e.currentMonth&&(e.currentMonth=11,e.currentYear--)),e.currentMonthName=e.months[e.currentMonth],d(e),e.onMonthChange(e)}function b(t){if(!t.noPosition){var e=t.position.top,a=t.position.right;if(t.position.centered)return t.calendarContainer.classList.add("qs-centered");var n=t.positionedEl.getBoundingClientRect(),r=t.el.getBoundingClientRect(),i=t.calendarContainer.getBoundingClientRect(),o=r.top-n.top+(e?-1*i.height:r.height)+"px",s=r.left-n.left+(a?r.width-i.width:0)+"px";t.calendarContainer.style.setProperty("top",o),t.calendarContainer.style.setProperty("left",s)}}function w(t){return"[object Date]"===D(t)&&"Invalid Date"!==t.toString()}function S(t){if(w(t)||"number"==typeof t&&!isNaN(t)){var e=new Date(+t);return new Date(e.getFullYear(),e.getMonth(),e.getDate())}}function k(t){t.disabled||!t.calendarContainer.classList.contains("qs-hidden")&&!t.alwaysShow&&(C(!0,t),t.calendarContainer.classList.add("qs-hidden"),t.onHide(t))}function N(t){t.disabled||(t.calendarContainer.classList.remove("qs-hidden"),b(t),t.onShow(t))}function C(t,e){var a=e.calendar,n=a.querySelector(".qs-overlay"),r=n.querySelector(".qs-overlay-year"),i=a.querySelector(".qs-controls"),o=a.querySelector(".qs-squares");t?(n.classList.add("qs-hidden"),i.classList.remove("qs-blur"),o.classList.remove("qs-blur"),r.value=""):(n.classList.remove("qs-hidden"),i.classList.add("qs-blur"),o.classList.add("qs-blur"),r.focus())}function M(t,e,a,n){var r=isNaN(+(new Date).setFullYear(e.value||void 0)),i=r?null:e.value;13===t.which||13===t.keyCode||"click"===t.type?n?y(null,a,i,n):r||e.classList.contains("qs-disabled")||y(null,a,i):a.calendar.contains(e)&&a.calendar.querySelector(".qs-submit").classList[r?"add":"remove"]("qs-disabled")}function D(t){return{}.toString.call(t)}function P(t){n.forEach((function(e){e!==t&&k(e)}))}function x(t){if(!t.__qs_shadow_dom){var e=t.which||t.keyCode,a=t.type,r=t.target,o=r.classList,s=n.filter((function(t){return t.calendar.contains(r)||t.el===r}))[0],l=s&&s.calendar.contains(r);if(!(s&&s.isMobile&&s.disableMobile))if("click"===a){if(!s)return n.forEach(k);if(s.disabled)return;var u=s.calendar,c=s.calendarContainer,h=s.disableYearOverlay,m=s.nonInput,p=u.querySelector(".qs-overlay-year"),v=!!u.querySelector(".qs-hidden"),g=u.querySelector(".qs-month-year").contains(r),b=r.dataset.monthNum;if(s.noPosition&&!l)(c.classList.contains("qs-hidden")?N:k)(s);else if(o.contains("qs-arrow"))y(o,s);else if(g||o.contains("qs-close"))h||C(!v,s);else if(b)M(t,p,s,b);else{if(o.contains("qs-disabled"))return;if(o.contains("qs-num")){var w=r.textContent,S=+r.dataset.direction,D=new Date(s.currentYear,s.currentMonth+S,w);if(S){s.currentYear=D.getFullYear(),s.currentMonth=D.getMonth(),s.currentMonthName=i[s.currentMonth],d(s);for(var x,U=s.calendar.querySelectorAll('[data-direction="0"]'),E=0;!x;){var _=U[E];_.textContent===w&&(x=_),E++}r=x}return void(+D==+s.dateSelected?f(r,s,!0):r.classList.contains("qs-disabled")||f(r,s))}o.contains("qs-submit")?M(t,p,s):m&&r===s.el&&(N(s),P(s))}}else if("focusin"===a&&s)N(s),P(s);else if("keydown"===a&&9===e&&s)k(s);else if("keydown"===a&&s&&!s.disabled){var T=!s.calendar.querySelector(".qs-overlay").classList.contains("qs-hidden");13===e&&T&&l?M(t,r,s):27===e&&T&&l&&C(!0,s)}else if("input"===a){if(!s||!s.calendar.contains(r))return;var I=s.calendar.querySelector(".qs-submit"),A=r.value.split("").reduce((function(t,e){return t||"0"!==e?t+(e.match(/[0-9]/)?e:""):""}),"").slice(0,4);r.value=A,I.classList[4===A.length?"remove":"add"]("qs-disabled")}}}function U(t){x(t),t.__qs_shadow_dom=!0}function E(t,e){l.forEach((function(a){t.removeEventListener(a,e)}))}function _(){N(this)}function T(){k(this)}function I(t,e){var a=S(t),n=this.currentYear,r=this.currentMonth,i=this.sibling;if(null==t)return this.dateSelected=void 0,g(this.el,this,!0),i&&(v({instance:this,deselect:!0}),d(i)),d(this),this;if(!w(t))throw new Error("`setDate` needs a JavaScript Date object.");if(this.disabledDates[+a]||a<this.minDate||a>this.maxDate)throw new Error("You can't manually set a date that's disabled.");this.dateSelected=a,e&&(this.currentYear=a.getFullYear(),this.currentMonth=a.getMonth(),this.currentMonthName=this.months[a.getMonth()]),g(this.el,this),i&&(v({instance:this}),d(i));var o=n===a.getFullYear()&&r===a.getMonth();return o||e?d(this,a):o||d(this,new Date(n,r,1)),this}function A(t){return B(this,t,!0)}function O(t){return B(this,t)}function B(t,e,a){var n=t.dateSelected,r=t.first,i=t.sibling,o=t.minDate,s=t.maxDate,l=S(e),u=a?"Min":"Max";function c(){return"original"+u+"Date"}function h(){return u.toLowerCase()+"Date"}function m(){return"set"+u}function p(){throw new Error("Out-of-range date passed to "+m())}if(null==e)t[c()]=void 0,i?(i[c()]=void 0,a?(r&&!n||!r&&!i.dateSelected)&&(t.minDate=void 0,i.minDate=void 0):(r&&!i.dateSelected||!r&&!n)&&(t.maxDate=void 0,i.maxDate=void 0)):t[h()]=void 0;else{if(!w(e))throw new Error("Invalid date passed to "+m());i?((r&&a&&l>(n||s)||r&&!a&&l<(i.dateSelected||o)||!r&&a&&l>(i.dateSelected||s)||!r&&!a&&l<(n||o))&&p(),t[c()]=l,i[c()]=l,(a&&(r&&!n||!r&&!i.dateSelected)||!a&&(r&&!i.dateSelected||!r&&!n))&&(t[h()]=l,i[h()]=l)):((a&&l>(n||s)||!a&&l<(n||o))&&p(),t[h()]=l)}return i&&d(i),d(t),t}function L(){var t=this.first?this:this.sibling,e=t.sibling;return{start:t.dateSelected,end:e.dateSelected}}function q(){var t=this.shadowDom,e=this.positionedEl,a=this.calendarContainer,r=this.sibling,i=this;this.inlinePosition&&(n.some((function(t){return t!==i&&t.positionedEl===e}))||e.style.setProperty("position",null)),a.remove(),n=n.filter((function(t){return t!==i})),r&&delete r.sibling,n.length||E(document,x);var o=n.some((function(e){return e.shadowDom===t}));for(var s in t&&!o&&E(t,U),this)delete this[s];n.length||l.forEach((function(t){document.removeEventListener(t,x)}))}function R(t,e){var a=new Date(t);if(!w(a))throw new Error("`navigate` needs a JavaScript Date object.");this.currentYear=a.getFullYear(),this.currentMonth=a.getMonth(),d(this),e&&this.onMonthChange(this)}e.default=function(t,e){var a=function(t,e){var a,l,u=function(t){var e=c(t);e.events&&(e.events=e.events.reduce((function(t,e){if(!w(e))throw new Error('"options.events" must only contain valid JavaScript Date objects.');return t[+S(e)]=!0,t}),{})),["startDate","dateSelected","minDate","maxDate"].forEach((function(t){var a=e[t];if(a&&!w(a))throw new Error('"options.'+t+'" needs to be a valid JavaScript Date object.');e[t]=S(a)}));var a=e.position,i=e.maxDate,l=e.minDate,u=e.dateSelected,d=e.overlayPlaceholder,h=e.overlayButton,m=e.startDay,p=e.id;if(e.startDate=S(e.startDate||u||new Date),e.disabledDates=(e.disabledDates||[]).reduce((function(t,e){var a=+S(e);if(!w(e))throw new Error('You supplied an invalid date to "options.disabledDates".');if(a===+S(u))throw new Error('"disabledDates" cannot contain the same date as "dateSelected".');return t[a]=1,t}),{}),e.hasOwnProperty("id")&&null==p)throw new Error("Id cannot be `null` or `undefined`");if(null!=p){var f=n.filter((function(t){return t.id===p}));if(f.length>1)throw new Error("Only two datepickers can share an id.");f.length?(e.second=!0,e.sibling=f[0]):e.first=!0}var v=["tr","tl","br","bl","c"].some((function(t){return a===t}));if(a&&!v)throw new Error('"options.position" must be one of the following: tl, tr, bl, br, or c.');function g(t){throw new Error('"dateSelected" in options is '+(t?"less":"greater")+' than "'+(t||"max")+'Date".')}if(e.position=function(t){var e=t[0],a=t[1],n={};return n[o[e]]=1,a&&(n[o[a]]=1),n}(a||"bl"),i<l)throw new Error('"maxDate" in options is less than "minDate".');if(u&&(l>u&&g("min"),i<u&&g()),["onSelect","onShow","onHide","onMonthChange","formatter","disabler"].forEach((function(t){"function"!=typeof e[t]&&(e[t]=s)})),["customDays","customMonths","customOverlayMonths"].forEach((function(t,a){var n=e[t],r=a?12:7;if(n){if(!Array.isArray(n)||n.length!==r||n.some((function(t){return"string"!=typeof t})))throw new Error('"'+t+'" must be an array with ${num} strings.');e[a?a<2?"months":"overlayMonths":"days"]=n}})),m&&m>0&&m<7){var y=(e.customDays||r).slice(),b=y.splice(0,m);e.customDays=y.concat(b),e.startDay=+m,e.weekendIndices=[y.length-1,y.length]}else e.startDay=0,e.weekendIndices=[6,0];return"string"!=typeof d&&delete e.overlayPlaceholder,"string"!=typeof h&&delete e.overlayButton,e}(e||{startDate:S(new Date),position:"bl"}),d=t;if("string"==typeof d)d="#"===d[0]?document.getElementById(d.slice(1)):document.querySelector(d);else{if("[object ShadowRoot]"===D(d))throw new Error("Using a shadow DOM as your selector is not supported.");for(var h,m=("getRootNode"in window.Node.prototype),p=d.parentNode;!h;){var f=D(p);if("[object HTMLDocument]"===f)h=!0;else if("[object ShadowRoot]"===f){if(h=!0,!m)throw new Error("The shadow DOM is not supported in your browser.");a=p,l=p.host}else p=p.parentNode}}if(!d)throw new Error("No selector / element found.");if(n.some((function(t){return t.el===d})))throw new Error("A datepicker already exists on that element.");var v=d===document.body,y=a?d.parentElement||a:v?document.body:d.parentElement,b=a?d.parentElement||l:y,k=document.createElement("div"),C=document.createElement("div");k.className="qs-datepicker-container qs-hidden",C.className="qs-datepicker";var M={shadowDom:a,customElement:l,positionedEl:b,el:d,parent:y,nonInput:"INPUT"!==d.nodeName,noPosition:v,position:!v&&u.position,startDate:u.startDate,dateSelected:u.dateSelected,disabledDates:u.disabledDates,minDate:u.minDate,maxDate:u.maxDate,noWeekends:!!u.noWeekends,weekendIndices:u.weekendIndices,calendarContainer:k,calendar:C,currentMonth:(u.startDate||u.dateSelected).getMonth(),currentMonthName:(u.months||i)[(u.startDate||u.dateSelected).getMonth()],currentYear:(u.startDate||u.dateSelected).getFullYear(),events:u.events||{},setDate:I,remove:q,setMin:A,setMax:O,show:_,hide:T,navigate:R,onSelect:u.onSelect,onShow:u.onShow,onHide:u.onHide,onMonthChange:u.onMonthChange,formatter:u.formatter,disabler:u.disabler,months:u.months||i,days:u.customDays||r,startDay:u.startDay,overlayMonths:u.overlayMonths||(u.months||i).map((function(t){return t.slice(0,3)})),overlayPlaceholder:u.overlayPlaceholder||"4-digit year",overlayButton:u.overlayButton||"Submit",disableYearOverlay:!!u.disableYearOverlay,disableMobile:!!u.disableMobile,isMobile:"ontouchstart"in window,alwaysShow:!!u.alwaysShow,id:u.id,showAllDates:!!u.showAllDates,respectDisabledReadOnly:!!u.respectDisabledReadOnly,first:u.first,second:u.second};if(u.sibling){var P=u.sibling,x=M,U=P.minDate||x.minDate,E=P.maxDate||x.maxDate;x.sibling=P,P.sibling=x,P.minDate=U,P.maxDate=E,x.minDate=U,x.maxDate=E,P.originalMinDate=U,P.originalMaxDate=E,x.originalMinDate=U,x.originalMaxDate=E,P.getRange=L,x.getRange=L}u.dateSelected&&g(d,M);var B=getComputedStyle(b).position;v||B&&"static"!==B||(M.inlinePosition=!0,b.style.setProperty("position","relative"));var $=n.filter((function(t){return t.positionedEl===M.positionedEl}));return $.some((function(t){return t.inlinePosition}))&&(M.inlinePosition=!0,$.forEach((function(t){t.inlinePosition=!0}))),k.appendChild(C),y.appendChild(k),M.alwaysShow&&N(M),M}(t,e);if(n.length||u(document),a.shadowDom&&(n.some((function(t){return t.shadowDom===a.shadowDom}))||u(a.shadowDom)),n.push(a),a.second){var l=a.sibling;v({instance:a,deselect:!a.dateSelected}),v({instance:l,deselect:!l.dateSelected}),d(l)}return d(a,a.startDate||a.dateSelected),a.alwaysShow&&b(a),a}},function(t,e,a){}]).default},function(t,e,a){t.exports=function(){"use strict";return function(t,e,a){var n=e.prototype;a.utc=function(t){return new e({date:t,utc:!0,args:arguments})},n.utc=function(t){var e=a(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),"minute"):e},n.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var r=n.parse;n.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),r.call(this,t)};var i=n.init;n.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else i.call(this)};var o=n.utcOffset;n.utcOffset=function(t,e){var a=this.$utils().u;if(a(t))return this.$u?0:a(this.$offset)?o.call(this):this.$offset;var n=Math.abs(t)<=16?60*t:t,r=this;if(e)return r.$offset=n,r.$u=0===t,r;if(0!==t){var i=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(r=this.local().add(n+i,"minute")).$offset=n,r.$x.$localOffset=i}else r=this.utc();return r};var s=n.format;n.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return s.call(this,e)},n.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var l=n.toDate;n.toDate=function(t){return"s"===t&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var u=n.diff;n.diff=function(t,e,n){if(this.$u===t.$u)return u.call(this,t,e,n);var r=this.local(),i=a(t).local();return u.call(r,i,e,n)}}}()},function(t,e){t.exports=flarum.core.compat["components/Checkbox"]},,function(t,e,a){var n=a(28),r=a(41),i={};for(var o in n)n.hasOwnProperty(o)&&(i[n[o]]=o);var s=t.exports={to:{},get:{}};function l(t,e,a){return Math.min(Math.max(e,t),a)}function u(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}s.get=function(t){var e,a;switch(t.substring(0,3).toLowerCase()){case"hsl":e=s.get.hsl(t),a="hsl";break;case"hwb":e=s.get.hwb(t),a="hwb";break;default:e=s.get.rgb(t),a="rgb"}return e?{model:a,value:e}:null},s.get.rgb=function(t){if(!t)return null;var e,a,r,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],a=0;a<3;a++){var o=2*a;i[a]=parseInt(e.slice(o,o+2),16)}r&&(i[3]=parseInt(r,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],a=0;a<3;a++)i[a]=parseInt(e[a]+e[a],16);r&&(i[3]=parseInt(r+r,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(a=0;a<3;a++)i[a]=parseInt(e[a+1],0);e[4]&&(i[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(i=n[e[1]])?(i[3]=1,i):null:null;for(a=0;a<3;a++)i[a]=Math.round(2.55*parseFloat(e[a+1]));e[4]&&(i[3]=parseFloat(e[4]))}for(a=0;a<3;a++)i[a]=l(i[a],0,255);return i[3]=l(i[3],0,1),i},s.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var a=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,l(parseFloat(e[2]),0,100),l(parseFloat(e[3]),0,100),l(isNaN(a)?1:a,0,1)]}return null},s.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var a=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,l(parseFloat(e[2]),0,100),l(parseFloat(e[3]),0,100),l(isNaN(a)?1:a,0,1)]}return null},s.to.hex=function(){var t=r(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},s.to.rgb=function(){var t=r(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},s.to.rgb.percent=function(){var t=r(arguments),e=Math.round(t[0]/255*100),a=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+a+"%, "+n+"%)":"rgba("+e+"%, "+a+"%, "+n+"%, "+t[3]+")"},s.to.hsl=function(){var t=r(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},s.to.hwb=function(){var t=r(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},s.to.keyword=function(t){return i[t.slice(0,3)]}},function(t,e,a){"use strict";var n=a(42),r=Array.prototype.concat,i=Array.prototype.slice,o=t.exports=function(t){for(var e=[],a=0,o=t.length;a<o;a++){var s=t[a];n(s)?e=r.call(e,i.call(s)):e.push(s)}return e};o.wrap=function(t){return function(){return t(o(arguments))}}},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,a){var n=a(29),r=a(44),i={};Object.keys(n).forEach((function(t){i[t]={},Object.defineProperty(i[t],"channels",{value:n[t].channels}),Object.defineProperty(i[t],"labels",{value:n[t].labels});var e=r(t);Object.keys(e).forEach((function(a){var n=e[a];i[t][a]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var a=t(e);if("object"==typeof a)for(var n=a.length,r=0;r<n;r++)a[r]=Math.round(a[r]);return a};return"conversion"in t&&(e.conversion=t.conversion),e}(n),i[t][a].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)}))})),t.exports=i},function(t,e,a){var n=a(29);function r(t){var e=function(){for(var t={},e=Object.keys(n),a=e.length,r=0;r<a;r++)t[e[r]]={distance:-1,parent:null};return t}(),a=[t];for(e[t].distance=0;a.length;)for(var r=a.pop(),i=Object.keys(n[r]),o=i.length,s=0;s<o;s++){var l=i[s],u=e[l];-1===u.distance&&(u.distance=e[r].distance+1,u.parent=r,a.unshift(l))}return e}function i(t,e){return function(a){return e(t(a))}}function o(t,e){for(var a=[e[t].parent,t],r=n[e[t].parent][t],o=e[t].parent;e[o].parent;)a.unshift(e[o].parent),r=i(n[e[o].parent][o],r),o=e[o].parent;return r.conversion=a,r}t.exports=function(t){for(var e=r(t),a={},n=Object.keys(e),i=n.length,s=0;s<i;s++){var l=n[s];null!==e[l].parent&&(a[l]=o(l,e))}return a}},function(t){t.exports=JSON.parse('[{"code":"AD","name":"Andorra"},{"code":"AE","name":"United Arab Emirates"},{"code":"AF","name":"Afghanistan"},{"code":"AG","name":"Antigua and Barbuda"},{"code":"AI","name":"Anguilla"},{"code":"AL","name":"Albania"},{"code":"AM","name":"Armenia"},{"code":"AO","name":"Angola"},{"code":"AQ","name":"Antarctica"},{"code":"AR","name":"Argentina"},{"code":"AS","name":"American Samoa"},{"code":"AT","name":"Austria"},{"code":"AU","name":"Australia"},{"code":"AW","name":"Aruba"},{"code":"AX","name":"Åland Islands"},{"code":"AZ","name":"Azerbaijan"},{"code":"BA","name":"Bosnia and Herzegovina"},{"code":"BB","name":"Barbados"},{"code":"BD","name":"Bangladesh"},{"code":"BE","name":"Belgium"},{"code":"BF","name":"Burkina Faso"},{"code":"BG","name":"Bulgaria"},{"code":"BH","name":"Bahrain"},{"code":"BI","name":"Burundi"},{"code":"BJ","name":"Benin"},{"code":"BL","name":"Saint Barthélemy"},{"code":"BM","name":"Bermuda"},{"code":"BN","name":"Brunei Darussalam"},{"code":"BO","name":"Bolivia, Plurinational State of"},{"code":"BQ","name":"Bonaire, Sint Eustatius and Saba"},{"code":"BR","name":"Brazil"},{"code":"BS","name":"Bahamas"},{"code":"BT","name":"Bhutan"},{"code":"BV","name":"Bouvet Island"},{"code":"BW","name":"Botswana"},{"code":"BY","name":"Belarus"},{"code":"BZ","name":"Belize"},{"code":"CA","name":"Canada"},{"code":"CC","name":"Cocos (Keeling) Islands"},{"code":"CD","name":"Congo, Democratic Republic of the"},{"code":"CF","name":"Central African Republic"},{"code":"CG","name":"Congo"},{"code":"CH","name":"Switzerland"},{"code":"CI","name":"Côte d\'Ivoire"},{"code":"CK","name":"Cook Islands"},{"code":"CL","name":"Chile"},{"code":"CM","name":"Cameroon"},{"code":"CN","name":"China"},{"code":"CO","name":"Colombia"},{"code":"CR","name":"Costa Rica"},{"code":"CU","name":"Cuba"},{"code":"CV","name":"Cabo Verde"},{"code":"CW","name":"Curaçao"},{"code":"CX","name":"Christmas Island"},{"code":"CY","name":"Cyprus"},{"code":"CZ","name":"Czechia"},{"code":"DE","name":"Germany"},{"code":"DJ","name":"Djibouti"},{"code":"DK","name":"Denmark"},{"code":"DM","name":"Dominica"},{"code":"DO","name":"Dominican Republic"},{"code":"DZ","name":"Algeria"},{"code":"EC","name":"Ecuador"},{"code":"EE","name":"Estonia"},{"code":"EG","name":"Egypt"},{"code":"EH","name":"Western Sahara"},{"code":"ER","name":"Eritrea"},{"code":"ES","name":"Spain"},{"code":"ET","name":"Ethiopia"},{"code":"FI","name":"Finland"},{"code":"FJ","name":"Fiji"},{"code":"FK","name":"Falkland Islands (Malvinas)"},{"code":"FM","name":"Micronesia, Federated States of"},{"code":"FO","name":"Faroe Islands"},{"code":"FR","name":"France"},{"code":"GA","name":"Gabon"},{"code":"GB","name":"United Kingdom of Great Britain and Northern Ireland"},{"code":"GD","name":"Grenada"},{"code":"GE","name":"Georgia"},{"code":"GF","name":"French Guiana"},{"code":"GG","name":"Guernsey"},{"code":"GH","name":"Ghana"},{"code":"GI","name":"Gibraltar"},{"code":"GL","name":"Greenland"},{"code":"GM","name":"Gambia"},{"code":"GN","name":"Guinea"},{"code":"GP","name":"Guadeloupe"},{"code":"GQ","name":"Equatorial Guinea"},{"code":"GR","name":"Greece"},{"code":"GS","name":"South Georgia and the South Sandwich Islands"},{"code":"GT","name":"Guatemala"},{"code":"GU","name":"Guam"},{"code":"GW","name":"Guinea-Bissau"},{"code":"GY","name":"Guyana"},{"code":"HK","name":"Hong Kong"},{"code":"HM","name":"Heard Island and McDonald Islands"},{"code":"HN","name":"Honduras"},{"code":"HR","name":"Croatia"},{"code":"HT","name":"Haiti"},{"code":"HU","name":"Hungary"},{"code":"ID","name":"Indonesia"},{"code":"IE","name":"Ireland"},{"code":"IL","name":"Israel"},{"code":"IM","name":"Isle of Man"},{"code":"IN","name":"India"},{"code":"IO","name":"British Indian Ocean Territory"},{"code":"IQ","name":"Iraq"},{"code":"IR","name":"Iran, Islamic Republic of"},{"code":"IS","name":"Iceland"},{"code":"IT","name":"Italy"},{"code":"JE","name":"Jersey"},{"code":"JM","name":"Jamaica"},{"code":"JO","name":"Jordan"},{"code":"JP","name":"Japan"},{"code":"KE","name":"Kenya"},{"code":"KG","name":"Kyrgyzstan"},{"code":"KH","name":"Cambodia"},{"code":"KI","name":"Kiribati"},{"code":"KM","name":"Comoros"},{"code":"KN","name":"Saint Kitts and Nevis"},{"code":"KP","name":"Korea, Democratic People\'s Republic of"},{"code":"KR","name":"Korea, Republic of"},{"code":"KW","name":"Kuwait"},{"code":"KY","name":"Cayman Islands"},{"code":"KZ","name":"Kazakhstan"},{"code":"LA","name":"Lao People\'s Democratic Republic"},{"code":"LB","name":"Lebanon"},{"code":"LC","name":"Saint Lucia"},{"code":"LI","name":"Liechtenstein"},{"code":"LK","name":"Sri Lanka"},{"code":"LR","name":"Liberia"},{"code":"LS","name":"Lesotho"},{"code":"LT","name":"Lithuania"},{"code":"LU","name":"Luxembourg"},{"code":"LV","name":"Latvia"},{"code":"LY","name":"Libya"},{"code":"MA","name":"Morocco"},{"code":"MC","name":"Monaco"},{"code":"MD","name":"Moldova, Republic of"},{"code":"ME","name":"Montenegro"},{"code":"MF","name":"Saint Martin, (French part)"},{"code":"MG","name":"Madagascar"},{"code":"MH","name":"Marshall Islands"},{"code":"MK","name":"North Macedonia"},{"code":"ML","name":"Mali"},{"code":"MM","name":"Myanmar"},{"code":"MN","name":"Mongolia"},{"code":"MO","name":"Macao"},{"code":"MP","name":"Northern Mariana Islands"},{"code":"MQ","name":"Martinique"},{"code":"MR","name":"Mauritania"},{"code":"MS","name":"Montserrat"},{"code":"MT","name":"Malta"},{"code":"MU","name":"Mauritius"},{"code":"MV","name":"Maldives"},{"code":"MW","name":"Malawi"},{"code":"MX","name":"Mexico"},{"code":"MY","name":"Malaysia"},{"code":"MZ","name":"Mozambique"},{"code":"NA","name":"Namibia"},{"code":"NC","name":"New Caledonia"},{"code":"NE","name":"Niger"},{"code":"NF","name":"Norfolk Island"},{"code":"NG","name":"Nigeria"},{"code":"NI","name":"Nicaragua"},{"code":"NL","name":"Netherlands"},{"code":"NO","name":"Norway"},{"code":"NP","name":"Nepal"},{"code":"NR","name":"Nauru"},{"code":"NU","name":"Niue"},{"code":"NZ","name":"New Zealand"},{"code":"OM","name":"Oman"},{"code":"PA","name":"Panama"},{"code":"PE","name":"Peru"},{"code":"PF","name":"French Polynesia"},{"code":"PG","name":"Papua New Guinea"},{"code":"PH","name":"Philippines"},{"code":"PK","name":"Pakistan"},{"code":"PL","name":"Poland"},{"code":"PM","name":"Saint Pierre and Miquelon"},{"code":"PN","name":"Pitcairn"},{"code":"PR","name":"Puerto Rico"},{"code":"PS","name":"Palestine, State of"},{"code":"PT","name":"Portugal"},{"code":"PW","name":"Palau"},{"code":"PY","name":"Paraguay"},{"code":"QA","name":"Qatar"},{"code":"RE","name":"Réunion"},{"code":"RO","name":"Romania"},{"code":"RS","name":"Serbia"},{"code":"RU","name":"Russian Federation"},{"code":"RW","name":"Rwanda"},{"code":"SA","name":"Saudi Arabia"},{"code":"SB","name":"Solomon Islands"},{"code":"SC","name":"Seychelles"},{"code":"SD","name":"Sudan"},{"code":"SE","name":"Sweden"},{"code":"SG","name":"Singapore"},{"code":"SH","name":"Saint Helena, Ascension and Tristan da Cunha"},{"code":"SI","name":"Slovenia"},{"code":"SJ","name":"Svalbard and Jan Mayen"},{"code":"SK","name":"Slovakia"},{"code":"SL","name":"Sierra Leone"},{"code":"SM","name":"San Marino"},{"code":"SN","name":"Senegal"},{"code":"SO","name":"Somalia"},{"code":"SR","name":"Suriname"},{"code":"SS","name":"South Sudan"},{"code":"ST","name":"Sao Tome and Principe"},{"code":"SV","name":"El Salvador"},{"code":"SX","name":"Sint Maarten, (Dutch part)"},{"code":"SY","name":"Syrian Arab Republic"},{"code":"SZ","name":"Eswatini"},{"code":"TC","name":"Turks and Caicos Islands"},{"code":"TD","name":"Chad"},{"code":"TF","name":"French Southern Territories"},{"code":"TG","name":"Togo"},{"code":"TH","name":"Thailand"},{"code":"TJ","name":"Tajikistan"},{"code":"TK","name":"Tokelau"},{"code":"TL","name":"Timor-Leste"},{"code":"TM","name":"Turkmenistan"},{"code":"TN","name":"Tunisia"},{"code":"TO","name":"Tonga"},{"code":"TR","name":"Turkey"},{"code":"TT","name":"Trinidad and Tobago"},{"code":"TV","name":"Tuvalu"},{"code":"TW","name":"Taiwan, Province of China"},{"code":"TZ","name":"Tanzania, United Republic of"},{"code":"UA","name":"Ukraine"},{"code":"UG","name":"Uganda"},{"code":"UM","name":"United States Minor Outlying Islands"},{"code":"US","name":"United States of America"},{"code":"UY","name":"Uruguay"},{"code":"UZ","name":"Uzbekistan"},{"code":"VA","name":"Holy See"},{"code":"VC","name":"Saint Vincent and the Grenadines"},{"code":"VE","name":"Venezuela, Bolivarian Republic of"},{"code":"VG","name":"Virgin Islands, British"},{"code":"VI","name":"Virgin Islands, U.S."},{"code":"VN","name":"Viet Nam"},{"code":"VU","name":"Vanuatu"},{"code":"WF","name":"Wallis and Futuna"},{"code":"WS","name":"Samoa"},{"code":"YE","name":"Yemen"},{"code":"YT","name":"Mayotte"},{"code":"ZA","name":"South Africa"},{"code":"ZM","name":"Zambia"},{"code":"ZW","name":"Zimbabwe"}]')},function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(10),o=a(1),s=a.n(o),l=a(21),u=a.n(l),c=a(30),d=a.n(c),h=a(2),p=a.n(h),f=a(31),v=a.n(f),g=a(5),y=a.n(g),b=a(20),w=a.n(b),S=a(6),k=a.n(S),N=a(32),C=a.n(N),M=a(33),D=a.n(M);function P(){return(P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function x(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var U=a(9),E=a.n(U),_=function(){function t(){}return t.cost=function(t){return t<70?1:t<75?2:t<80?3:t<90?5:10},t.decrementCost=function(t){return t>90?-10:t>80?-5:t>75?-3:t>70?-2:-1},t.tpa=function(t){return t.reduce((function(t,e){if(Number.isInteger(e)){for(var a=e-40,n=0;a>0;)n+=a>50?10:a>40?5:a>35?3:a>30?2:1,a--;return t+n}return t}),0)},t}(),T=function(t){function e(){return t.apply(this,arguments)||this}return x(e,t),e}(s.a);function I(t,e){var a=new Date(t.getTime());return a.setDate(t.getDate()+(7+e-t.getDay())%7),a}P(T.prototype,{firstName:s.a.attribute("firstName"),lastName:s.a.attribute("lastName"),age:s.a.attribute("age"),height:s.a.attribute("height"),weight:s.a.attribute("weight"),nationality:s.a.attribute("nationality"),bowlingStyle:s.a.attribute("bowlingStyle"),running:s.a.attribute("running"),defense:s.a.attribute("defense"),attacking:s.a.attribute("attacking"),lofted:s.a.attribute("lofted"),vsSpin:s.a.attribute("vsSpin"),vsPace:s.a.attribute("vsPace"),footwork:s.a.attribute("footwork"),timing:s.a.attribute("timing"),control:s.a.attribute("control"),paceFlight:s.a.attribute("paceFlight"),swingLegSpin:s.a.attribute("swingLegSpin"),slowerBallOffSpin:s.a.attribute("slowerBallOffSpin"),seamDrift:s.a.attribute("seamDrift"),accuracy:s.a.attribute("accuracy"),discipline:s.a.attribute("discipline"),bouncerBounce:s.a.attribute("bouncerBounce"),yorkerArmBall:s.a.attribute("yorkerArmBall"),tpe:s.a.attribute("tpe"),bankedTpe:s.a.attribute("bankedTpe"),season:s.a.attribute("season"),role:s.a.attribute("role"),order:s.a.attribute("order"),name:E()("firstName","lastName",(function(t,e){return t+" "+e})),tpa:E()("battingTpa","bowlingTpa",(function(t,e){return t+e})),battingTpa:E()("running","defense","attacking","lofted","vsSpin","vsPace","footwork","timing","control",(function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return _.tpa(e)})),bowlingTpa:E()("paceFlight","swingLegSpin","slowerBallOffSpin","seamDrift","accuracy","discipline","bouncerBounce","yorkerArmBall",(function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return _.tpa(e)})),isBowler:E()("battingTpa","bowlingTpa",(function(t,e){return e>t})),isPaceBowler:E()("bowlingStyle",(function(t){return"pace"===t.toLowerCase()})),user:s.a.hasOne("user"),team:s.a.hasOne("team"),canEdit:s.a.attribute("canEdit"),createdAt:s.a.attribute("createdAt",s.a.transformDate),updatedAt:s.a.attribute("updatedAt",s.a.transaformDate)});var A=function(t){function e(){return t.apply(this,arguments)||this}return x(e,t),e}(s.a);P(A.prototype,{date:s.a.attribute("date",s.a.transformDate),weekEnding:E()("date",(function(t){return I(t,0)})),link:s.a.attribute("link"),type:s.a.attribute("type"),comment:s.a.attribute("comment"),tpe:s.a.attribute("tpe"),isCapped:s.a.attribute("isCapped"),status:s.a.attribute("status"),submittedAt:s.a.attribute("submittedAt",s.a.transformDate),updatedAt:s.a.attribute("updatedAt",s.a.transformDate),submittedUser:s.a.hasOne("submittedUser"),updaterUser:s.a.hasOne("updaterUser"),updaterComment:s.a.attribute("updaterComment"),player:s.a.hasOne("player"),isApproved:E()("status",(function(t){return"approved"===t.toLowerCase()})),isDenied:E()("status",(function(t){return"denied"===t.toLowerCase()})),isUnderReview:E()("status",(function(t){return"under_review"===t.toLowerCase()}))});var O,B=function(t){function e(){return t.apply(this,arguments)||this}return x(e,t),e}(s.a);P(B.prototype,{name:s.a.attribute("name"),logoLink:s.a.attribute("logoLink"),primaryColor:s.a.attribute("primaryColor"),secondaryColor:s.a.attribute("secondaryColor"),createdAt:s.a.attribute("createdAt",s.a.transformDate),updatedAt:s.a.attribute("updatedAt",s.a.transaformDate),gmUser:s.a.hasOne("gm_user"),agmUser:s.a.hasOne("agm_user"),players:s.a.hasMany("players")});var L=function(t){function e(){return t.apply(this,arguments)||this}return x(e,t),e}(s.a);P(L.prototype,((O={createdAt:s.a.attribute("date",s.a.transformDate)}).createdAt=s.a.attribute("createdAt",s.a.transformDate),O.updatedAt=s.a.attribute("updatedAt",s.a.transaformDate),O.player=s.a.hasOne("player"),O.fromTeam=s.a.hasOne("fromTeam"),O.toTeam=s.a.hasMany("toTeam"),O));var q=a(14),R=a.n(q),F=a(4),Y=a.n(F),j=a(12),G=a.n(j),H=a(3),z=a.n(H),W=a(18),X=a.n(W),K=a(17),V=a.n(K);function J(t){return m("img",{src:"https://cdn.staticaly.com/gh/hjnilsson/country-flags/master/svg/"+t+".svg",alt:t})}var Z=a(15),Q=a.n(Z),tt=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.player=this.attrs.player,this.originalState=this.player,this.saving=!1,this.playerSkillUpdates={},this.spentTpe=0,this.initPlayerUpdateSkills(),this.errors=[]},a.className=function(){return"PlayerUpdateModal Modal"},a.title=function(){return r.a.translator.trans("hcl.forum.player.update.title")},a.content=function(){var t=this,e=this.player.user().color()?this.player.user().color():"#675555",a=G()(e),n=a.isLight()?"#111":"#fff",i=m("div",{className:"PlayerUpdate--tpebanked",style:{backgroundColor:a,color:n}},r.a.translator.trans("hcl.forum.player.update.banked_tpe")+": "+(this.player.bankedTpe()-this.spentTpe)),o=m("div",{className:"PlayerUpdate--batting"},m("div",{className:"PlayerUpdate--info"},m("h2",null,m("b",null,r.a.translator.trans("hcl.forum.player.batting_attributes")))),m("div",{className:"PlayerUpdate--skills"},m("div",{className:"PlayerUpdate--item PlayerUpdate--header"},r.a.translator.trans("hcl.forum.player.update.skill")),m("div",{className:"PlayerUpdate--item PlayerUpdate--header PlayerUpdate--center"},r.a.translator.trans("hcl.forum.player.update.tpe")),m("div",{className:"PlayerUpdate--item PlayerUpdate--header PlayerUpdate--center"},r.a.translator.trans("hcl.forum.player.update.cost")),m("div",{className:"PlayerUpdate--item PlayerUpdate--header PlayerUpdate--center"},r.a.translator.trans("hcl.forum.player.update.update")),this.skillRow("running"),this.skillRow("defense"),this.skillRow("attacking"),this.skillRow("lofted"),this.skillRow("vsSpin"),this.skillRow("vsPace"),this.skillRow("footwork"),this.skillRow("timing"),this.skillRow("control"))),s=this.player.bowlingStyle(),l=m("div",{className:"PlayerUpdate--bowling"},m("div",{className:"PlayerUpdate--info"},m("h2",null,m("b",null,r.a.translator.trans("hcl.forum.player.bowler_attributes")))),m("div",{className:"PlayerUpdate--skills"},m("div",{className:"PlayerUpdate--item PlayerUpdate--header"},r.a.translator.trans("hcl.forum.player.update.skill")),m("div",{className:"PlayerUpdate--item PlayerUpdate--header PlayerUpdate--center"},r.a.translator.trans("hcl.forum.player.update.tpe")),m("div",{className:"PlayerUpdate--item PlayerUpdate--header PlayerUpdate--center"},r.a.translator.trans("hcl.forum.player.update.cost")),m("div",{className:"PlayerUpdate--item PlayerUpdate--header PlayerUpdate--center"},r.a.translator.trans("hcl.forum.player.update.update")),this.skillRow("paceFlight",s),this.skillRow("swingLegSpin",s),this.skillRow("slowerBallOffSpin",s),this.skillRow("seamDrift",s),this.skillRow("accuracy"),this.skillRow("discipline"),this.skillRow("bouncerBounce",s),this.skillRow("yorkerArmBall",s))),u=m(p.a,{type:"submit",className:"Button Button--primary",loading:this.saving,disabled:this.saving},r.a.translator.trans("hcl.forum.basics.save_skills")),c=m(p.a,{type:"button",className:"Button Button--danger",onclick:function(){return t.reset()}},r.a.translator.trans("hcl.forum.basics.reset"));return m("div",{className:"PlayerUpdate--body Modal-body"},i,o,l,m("div",{className:"PlayerUpdate--footer ButtonGroup"},c,u))},a.skillRow=function(t,e){var a=t;e&&(a+="."+e);var n=this.player.data.attributes[t]!=this.playerSkillUpdates[t],i="PlayerUpdate--item PlayerUpdate--skill";return n&&(i+=" PlayerUpdate--updated"),[m("div",{className:i,title:r.a.translator.trans("hcl.forum.player.tooltip."+a)},r.a.translator.trans("hcl.forum.player."+a)),this.currentTpe(t,n),this.currentCost(t),this.updateButtons(t)]},a.currentTpe=function(t,e){var a="PlayerUpdate--item PlayerUpdate--tpe PlayerUpdate--center";return e&&(a+=" PlayerUpdate--updated"),m("div",{className:a},this.playerSkillUpdates[t])},a.currentCost=function(t){var e=_.cost(this.playerSkillUpdates[t]),a="PlayerUpdate--item PlayerUpdate--cost PlayerUpdate--center";return e>this.tpeLeft()&&(a="PlayerUpdate--item PlayerUpdate--warning PlayerUpdate--center"),m("div",{className:a},e)},a.updateButtons=function(t){var e=this,a=this.playerSkillUpdates[t],n=_.cost(a)>this.tpeLeft(),r=a<=this.player.data.attributes[t]||40===a;return m("div",{className:"PlayerUpdate--item PlayerUpdate--buttons PlayerUpdate--center ButtonGroup"},m(p.a,{type:"button",className:"Button PlayerUpdate--decrease Button--icon Button--rounded",disabled:r,icon:"fas fa-minus",onclick:function(){return e.updateSkill(t,-1,_.decrementCost(a))}}),m(p.a,{type:"button",className:"Button PlayerUpdate--increase Button--icon Button--rounded",disabled:n,icon:"fas fa-plus",onclick:function(){return e.updateSkill(t,1,_.cost(a))}}))},a.reset=function(){this.player=this.originalState,this.initPlayerUpdateSkills(),m.redraw()},a.onsubmit=function(t){var e=this;t.preventDefault(),this.saving=!0,this.player.save(this.playerSkillUpdates).then((function(t){e.saving=!1,e.attrs.onsave(t),e.hide()})).catch((function(t){e.saving=!1,e.player=e.originalState,e.initPlayerUpdateSkills(),e.onerror(t)}))},a.initPlayerUpdateSkills=function(){this.spentTpe=0,this.playerSkillUpdates.running=this.player.running(),this.playerSkillUpdates.defense=this.player.defense(),this.playerSkillUpdates.attacking=this.player.attacking(),this.playerSkillUpdates.lofted=this.player.lofted(),this.playerSkillUpdates.vsSpin=this.player.vsSpin(),this.playerSkillUpdates.vsPace=this.player.vsPace(),this.playerSkillUpdates.footwork=this.player.footwork(),this.playerSkillUpdates.timing=this.player.timing(),this.playerSkillUpdates.control=this.player.control(),this.playerSkillUpdates.paceFlight=this.player.paceFlight(),this.playerSkillUpdates.swingLegSpin=this.player.swingLegSpin(),this.playerSkillUpdates.slowerBallOffSpin=this.player.slowerBallOffSpin(),this.playerSkillUpdates.seamDrift=this.player.seamDrift(),this.playerSkillUpdates.accuracy=this.player.accuracy(),this.playerSkillUpdates.discipline=this.player.discipline(),this.playerSkillUpdates.bouncerBounce=this.player.bouncerBounce(),this.playerSkillUpdates.yorkerArmBall=this.player.yorkerArmBall()},a.updateSkill=function(t,e,a){var n=this.playerSkillUpdates[t]+e;n>99||n<40||this.tpeLeft()-a<0||(this.spentTpe+=a,this.playerSkillUpdates[t]=n)},a.tpeLeft=function(){return this.player.bankedTpe()-this.spentTpe},e}(Q.a),et=m("div",{className:"PlayerCard-seperator"},"|"),at=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.player=this.attrs.player,this.originalState=this.player,this.saving=!1},a.view=function(){return m("div",{className:"PlayerCard"},this.buildHeader(this.player),this.buildInfo(this.player))},a.toggleUpdating=function(){r.a.modal.show(tt,{player:this.player,onsave:this.onsave.bind(this)})},a.onsave=function(t){this.player=t,m.redraw()},a.buildHeader=function(t){var e=this.player.user()&&this.player.user().color()?this.player.user().color():"#675555",a=G()(e),n=a.isLight()?"#111":"#fff",i=this.player.user(),o=V()(i),s=null;this.attrs.showUser&&i&&"[deleted]"!==o[0]&&(s=[m("div",{className:"PlayerCard-username"},m("a",{href:r.a.route("user",{username:i.username()}),style:{color:n}},o)),et]);var l=[];if((r.a.session.user===this.player.user()||this.player.canEdit())&&!this.saving){var u=this.player.bankedTpe()>0,c=r.a.translator.trans("hcl.forum.basics.no_tpe"),d="Button";u&&(c=r.a.translator.trans("hcl.forum.basics.update"),d+=" Button--important"),l.push(m(p.a,{onclick:this.toggleUpdating.bind(this),icon:"fas fa-cog",disabled:!u,className:d},c))}var h=m("div",{className:"PlayerCard-data-img"},J(t.nationality().toLowerCase())),f=null;return t.team()&&(f=[m("div",{className:"PlayerCard-data PlayerCard-team"},m(X.a,{href:r.a.route("teams.show",{id:t.team().id()}),title:t.team().name(),alt:t.team().name()},m("img",{src:t.team().logoLink(),alt:t.team().name(),style:{backgroundColor:""+G()("#"+t.team().primaryColor()).darken(.35).hex()}}))),et]),m("div",{className:"PlayerCard-header",style:{backgroundColor:a,color:n}},m("div",{className:"PlayerCard-info"},m("div",{className:"PlayerCard-name"},t.firstName()+" "+t.lastName()),h,m("div",{className:"PlayerCard-subheader"},s,f,m("div",{className:"PlayerCard-data"},r.a.translator.trans("hcl.forum.player.age")+": "+t.age()),et,m("div",{className:"PlayerCard-data"},r.a.translator.trans("hcl.forum.player.tpe")+": "+t.tpe()+" ("+r.a.translator.trans("hcl.forum.player.banked")+" "+t.bankedTpe()+")"),et,m("div",{className:"PlayerCard-data"},r.a.translator.trans("hcl.forum.player.tpa")+": "+t.tpa()),et,m("div",{className:"PlayerCard-data"},""+r.a.translator.trans("hcl.forum.player.season")+t.season()))),m("div",{className:"PlayerCard-update ButtonGroup"},l))},a.buildInfo=function(t){var e=this.showBattingStats(t),a=this.battingInfo(e),n=this.showBowlingStats(t),r=this.bowlingInfo(t,n);return m("div",{className:"PlayerCard-attributes"},a,r)},a.battingInfo=function(t){return m("div",{className:"PlayerCard-batter"},m("div",{className:"PlayerCard-attributes-header"},m("div",{className:"PlayerCard-info"},m("b",null,r.a.translator.trans("hcl.forum.player.batting_attributes"))),et,m("div",{className:"PlayerCard-individual-tpe"},r.a.translator.trans("hcl.forum.player.tpa")+": "+this.player.battingTpa())),m("div",{className:"PlayerCard-batter-attributes"},m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.running")),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.defense")),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.attacking")),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.lofted")),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.vsSpin")),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.vsPace")),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.footwork")),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.timing")),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.control")),t))},a.showBattingStats=function(t){return[m("div",{className:"PlayerCard-skill"},t.running()),m("div",{className:"PlayerCard-skill"},t.defense()),m("div",{className:"PlayerCard-skill"},t.attacking()),m("div",{className:"PlayerCard-skill"},t.lofted()),m("div",{className:"PlayerCard-skill"},t.vsSpin()),m("div",{className:"PlayerCard-skill"},t.vsPace()),m("div",{className:"PlayerCard-skill"},t.footwork()),m("div",{className:"PlayerCard-skill"},t.timing()),m("div",{className:"PlayerCard-skill"},t.control())]},a.updateBattingStats=function(){var t=this;return[m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.running,onchange:function(e){return t.updateSkill("running",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.defense,onchange:function(e){return t.updateSkill("defense",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.attacking,onchange:function(e){return t.updateSkill("attacking",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.lofted,onchange:function(e){return t.updateSkill("lofted",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.vsSpin,onchange:function(e){return t.updateSkill("vsSpin",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.vsPace,onchange:function(e){return t.updateSkill("vsPace",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.footwork,onchange:function(e){return t.updateSkill("footwork",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.timing,onchange:function(e){return t.updateSkill("timing",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.control,onchange:function(e){return t.updateSkill("control",e.target.value)}}))]},a.bowlingInfo=function(t,e){var a=t.bowlingStyle();return[m("hr",null),m("div",{className:"PlayerCard-bowler"},m("div",{className:"PlayerCard-attributes-header"},m("div",{className:"PlayerCard-info"},m("b",null,r.a.translator.trans("hcl.forum.player.bowler_attributes")))," ",et,m("div",{className:"PlayerCard-info"},r.a.translator.trans("hcl.forum.player.bowling_style")+": "+r.a.translator.trans("hcl.forum.player.style."+a.toLowerCase())),et,m("div",{className:"PlayerCard-individual-tpe"},r.a.translator.trans("hcl.forum.player.tpa")+": "+this.player.bowlingTpa())),m("div",{className:"PlayerCard-bowler-attributes"},m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.paceFlight."+a)),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.swingLegSpin."+a)),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.slowerBallOffSpin."+a)),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.seamDrift."+a)),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.accuracy")),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.discipline")),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.bouncerBounce."+a)),m("div",{className:"PlayerCard-skill-label"},r.a.translator.trans("hcl.forum.player.yorkerArmBall."+a)),e))]},a.showBowlingStats=function(t){return[m("div",{className:"PlayerCard-skill"},t.paceFlight()),m("div",{className:"PlayerCard-skill"},t.swingLegSpin()),m("div",{className:"PlayerCard-skill"},t.slowerBallOffSpin()),m("div",{className:"PlayerCard-skill"},t.seamDrift()),m("div",{className:"PlayerCard-skill"},t.accuracy()),m("div",{className:"PlayerCard-skill"},t.discipline()),m("div",{className:"PlayerCard-skill"},t.bouncerBounce()),m("div",{className:"PlayerCard-skill"},t.yorkerArmBall())]},a.updateBowlingStats=function(){var t=this;return[m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.paceFlight,onchange:function(e){return t.updateSkill("paceFlight",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.swingLegSpin,onchange:function(e){return t.updateSkill("swingLegSpin",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.slowerBallOffSpin,onchange:function(e){return t.updateSkill("slowerBallOffSpin",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.seamDrift,onchange:function(e){return t.updateSkill("seamDrift",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.accuracy,onchange:function(e){return t.updateSkill("accuracy",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.discipline,onchange:function(e){return t.updateSkill("discipline",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.bouncerBounce,onchange:function(e){return t.updateSkill("bouncerBounce",e.target.value)}})),m("div",{className:"PlayerCard-skill-update"},m("input",{type:"number",min:40,max:99,value:this.playerSkillUpdates.yorkerArmBall,onchange:function(e){return t.updateSkill("yorkerArmBall",e.target.value)}}))]},e}(z.a),nt=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.saving=!1},a.className=function(){return"Modal--small"},a.title=function(){return r.a.translator.trans("hcl.forum.player.retire.title")},a.content=function(){var t=this;return m("div",{className:"Modal-body"},m("h2",null,r.a.translator.trans("hcl.forum.player.retire.warning")),m("div",{className:"Form-gruop"},m(p.a,{onclick:function(){return t.hide()},className:"Button Button--primary",disabled:this.saving},r.a.translator.trans("hcl.forum.basics.cancel")),m(p.a,{type:"submit",className:"Button Button--danger",loading:this.saving,disabled:this.saving},r.a.translator.trans("hcl.forum.player.retire.button"))))},a.onsubmit=function(t){var e=this;t.preventDefault(),this.saving=!0,this.attrs.player.save({retire:!0}).then((function(){e.hide(),r.a.alerts.show({type:"success"},r.a.translator.trans("hcl.forum.alerts.player_retired")),e.attrs.showPlayer&&e.attrs.showPlayer(null)})).catch((function(){e.saving=!1}))},e}(Q.a),rt=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.loading=!0,this.player=null,this.loadUser(m.route.param("username"))},a.onremove=function(){this.player=null},a.content=function(){var t=this;if(!this.player&&!this.loading){var e=null;return this.user===r.a.session.user&&(e=m(y.a,{href:r.a.route("player.create"),className:"Button PlayersCreate"},"Create Players")),m("div",{className:"PlayersUserPage"},m(R.a,{text:r.a.translator.trans("hcl.forum.user.players_empty_text")}),e)}if(this.loading)return Y.a.component();var a=null;return(this.user===r.a.session.user||r.a.forum.attribute("adminUrl"))&&(a=m(p.a,{className:"Button Button--danger",onclick:function(){return r.a.modal.show(nt,{player:t.player,showPlayer:t.showPlayer.bind(t)})}},r.a.translator.trans("hcl.forum.player.retire.button"))),m("div",{className:"PlayersUserPage"},m("ul",{className:"PlayersUserPage-list"},m("li",null,m(at,{player:this.player,showUser:!1}))),a)},a.show=function(e){t.prototype.show.call(this,e),this.refresh()},a.refresh=function(){this.loading=!0,this.player=null,m.redraw(),this.loadPlayers()},a.loadPlayers=function(){var t=this;this.player||r.a.store.find("users",this.user.id()+"/player",null,{errorHandler:function(){}}).then((function(e){e&&t.showPlayer(e)})).catch((function(){t.loading=!1,t.player=null,m.redraw()}))},a.showPlayer=function(t){this.player=t,this.loading=!1,m.redraw()},e}(w.a),it=a(16),ot=a.n(it),st=a(34),lt=a.n(st),ut=a(8),ct=a.n(ut),dt=a(26),ht=a(22),mt=a.n(ht),pt=a(35),ft=a.n(pt),vt=function(t){function e(){return t.apply(this,arguments)||this}return x(e,t),e.prototype.view=function(){var t=this.attrs,e=t.options,a=t.onchange,n=t.value,r=t.disabled,i=t.id;return m("span",{className:"Select"},m("select",{className:"Select-input FormControl",id:i,required:!0,onchange:a?ft()("value",a.bind(this)):void 0,value:n},"disabled=",r,Object.keys(e).map((function(t){return m("option",{value:t},e[t])}))),mt()("fas fa-sort",{className:"Select-caret"}))},e}(z.a),gt=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){var a=this;t.prototype.oninit.call(this,e),this.player=this.attrs.player,this.loading=!1,this.countries={},Object(dt.getNames)().sort().forEach((function(t){var e=Object(dt.getCode)(t);a.countries[e]=t})),this.fields=this.fields.bind(this)},a.view=function(){return m("div",{className:"Form Form-group Form--centered CreatePlayer"},this.fields().toArray())},a.fields=function(){var t=this,e=new ct.a;return e.add("identity",m(lt.a,{className:"identity",label:app.translator.trans("hcl.forum.player.identity")},m("label",{for:"first_name"},app.translator.trans("hcl.forum.player.first_name")),m("input",{className:"FormControl",name:"firstName",id:"first_name",type:"text",placeholder:"Don",minlength:"3",maxlength:"50",required:!0,value:this.player.firstName||"",onchange:function(e){return t.attrs.update("firstName",e.target.value)}}),m("label",{for:"last_name"},app.translator.trans("hcl.forum.player.last_name")),m("input",{className:"FormControl",name:"lastName",id:"last_name",type:"text",placeholder:"Bradman",minlength:"3",maxlength:"50",required:!0,value:this.player.lastName||"",onchange:function(e){return t.attrs.update("lastName",e.target.value)}}),m("label",{for:"age"},app.translator.trans("hcl.forum.player.age")),m("input",{className:"FormControl",name:"age",type:"number",required:!0,id:"age",min:18,max:99,value:this.player.age||"",onchange:function(e){return t.attrs.update("age",e.target.value)}}),m("label",{for:"height"},app.translator.trans("hcl.forum.player.height")),m("input",{className:"FormControl",name:"height",type:"number",required:!0,id:"height",min:120,max:270,value:this.player.height||"",onchange:function(e){return t.attrs.update("height",e.target.value)}}),m("label",{for:"weight"},app.translator.trans("hcl.forum.player.weight")),m("input",{className:"FormControl",name:"weight",type:"number",required:!0,id:"weight",min:50,max:130,value:this.player.weight||"",onchange:function(e){return t.attrs.update("weight",e.target.value)}}),m("label",{for:"nationality"},app.translator.trans("hcl.forum.player.country")),m(vt,{value:this.player.nationality,id:"nationality",options:this.countries,onchange:function(e){return t.attrs.update("nationality",e)}}),m("label",{for:"bowling_style"},app.translator.trans("hcl.forum.player.bowling_style")),m(vt,{value:this.player.bowlingStyle,id:"bowling_style",options:{pace:app.translator.trans("hcl.forum.player.style.pace"),spin:app.translator.trans("hcl.forum.player.style.spin")},onchange:function(e){return t.attrs.update("bowlingStyle",e)}})),30),e},e}(z.a),yt=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),null==app.session.user&&m.route.set(app.route("index")),app.session.user.player()&&m.route.set(app.route("user.player",{username:app.session.user.username()})),this.player={firstName:"",lastName:""},this.bodyClass="App--index"},a.title=function(){return app.translator.trans("hcl.forum.player.create")},a.updatePlayer=function(t,e){this.player[t]=e},a.view=function(){return m("form",{onsubmit:this.onsubmit.bind(this),className:"container CreatePlayers-Players Form--centered"},m("div",null,gt.component({player:this.player,update:this.updatePlayer.bind(this)})),m("div",{className:"Form-group Submit"},m(p.a,{className:"Button Button--primary Button--block",type:"submit",loading:this.loading},"Create")))},a.onsubmit=function(t){var e=this;t.preventDefault(),this.loading=!0,app.store.createRecord("players").save(this.player).then((function(t){e.loading=!1,m.route.set(app.route("user.player",{username:app.session.user.username()}))})).catch((function(){e.loading=!1}))},e}(ot.a),bt=a(7),wt=a.n(bt),St=a(13),kt=a.n(St),Nt=a(23),Ct=a.n(Nt),Mt=function(t){function e(){return t.apply(this,arguments)||this}return x(e,t),e.prototype.view=function(){var t=this.attrs.player;return m("div",{className:"User"},at.component({player:t,showUser:!0}))},e}(z.a),Dt=function(t){function e(){return t.apply(this,arguments)||this}return x(e,t),e.prototype.view=function(){var t,e=this.attrs.state,a=e.getParams();if(e.isLoading()?t=Y.a.component():e.moreResults&&(t=p.a.component({className:"Button",onclick:e.loadMore.bind(e)},r.a.translator.trans("hcl.forum.page.load_more_button"))),e.empty()){var n=r.a.translator.trans("hcl.forum.page.empty_text");return m("div",{className:"DiscussionList"},R.a.component({text:n}))}return m("div",{className:"UserDirectoryList"+(e.isSearchResults()?" UserDirectoryList--searchResults":"")},m("ul",{className:"UserDirectoryList-users"},e.players.map((function(t){return m("li",{key:t.id(),"data-id":t.id()},Mt.component({player:t,params:a}))}))),m("div",{className:"UserDirectoryList-loadMore"},t))},e}(z.a),Pt=function(){function t(){}return t.prototype.sortMap=function(){return{first_name_az:"firstName",first_name_za:"-firstName",tpe:"-tpe",newest:"-createdAt",oldest:"createdAt",newest_update:"-updatedAt",oldest_update:"updatedAt"}},t}(),xt=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=window.app),this.params=t,this.app=e,this.players=[],this.moreResults=!1,this.loading=!1}var e=t.prototype;return e.requestParams=function(){var t={include:[],filter:{}},e=this.params.sort||"newest";return t.sort=this.sortMap()[e],this.params.q&&(t.filter.q=this.params.q),t},e.sortMap=function(){return P({},(new Pt).sortMap())},e.getParams=function(){return this.params},e.clear=function(){this.players=[],m.redraw()},e.refreshParams=function(t){var e=this,a=Object.keys(t).some((function(a){return e.getParams()[a]!=t[a]}));this.hasPlayers()&&!a||(this.params=t,this.refresh())},e.refresh=function(){var t=this;return this.loading=!0,this.clear(),this.loadResults().then((function(e){t.parseResults(e)}),(function(){t.loading=!1,m.redraw()}))},e.loadResults=function(t){var e=this.app.preloadedApiDocument();if(e)return Promise.resolve(e);var a=this.requestParams();return a.page={offset:t},a.include=a.include.join(","),this.app.store.find("players",a)},e.loadMore=function(){this.loading=!0,this.loadResults(this.players.length).then(this.parseResults.bind(this))},e.parseResults=function(t){var e;return(e=this.players).push.apply(e,t),this.loading=!1,this.moreResults=!!t.payload.links&&!!t.payload.links.next,m.redraw(),t},e.hasPlayers=function(){return this.players.length>0},e.isLoading=function(){return this.loading},e.isSearchResults=function(){return!!this.params.q},e.empty=function(){return!this.hasPlayers()&&!this.isLoading()},t}(),Ut=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.state=new xt({}),this.state.refreshParams(r.a.search.params()),this.bodyClass="User--directory Player--directory"},a.view=function(){return m("div",{className:"IndexPage"},k.a.prototype.hero(),m("div",{className:"container"},m("div",{className:"sideNavContainer"},m("nav",{className:"IndexPage-nav sideNav"},m("ul",null,wt()(this.sidebarItems().toArray()))),m("div",{className:"IndexPage-results sideNavOffset"},m("div",{className:"IndexPage-toolbar"},m("ul",{className:"IndexPage-toolbar-view"},wt()(this.viewItems().toArray())),m("ul",{className:"IndexPage-toolbar-action"},wt()(this.actionItems().toArray()))),m(Dt,{state:this.state})))))},a.sidebarItems=function(){var t=k.a.prototype.sidebarItems();return t.replace("nav",Ct.a.component({buttonClassName:"Button",className:"App-titleControl"},this.navItems().toArray())),t},a.navItems=function(){return k.a.prototype.navItems()},a.viewItems=function(){var t=new ct.a,e=this.state.sortMap(),a={};for(var n in e)a[n]=r.a.translator.trans("hcl.lib.sort."+n);return t.add("sort",kt.a.component({options:a,value:this.params().sort||"newest",onchange:this.changeSort.bind(this)})),t},a.actionItems=function(){var t=this,e=new ct.a;return e.add("refresh",p.a.component({title:r.a.translator.trans("hcl.forum.page.refresh_tooltip"),icon:"fas fa-sync",className:"Button Button--icon",onclick:function(){t.state.refresh(),r.a.session.user.player()&&(r.a.store.find("players",r.a.session.user.player().id()),m.redraw())}})),r.a.forum.attribute("adminUrl")&&e.add("download",y.a.component({title:r.a.translator.trans("hcl.forum.page.download_tooltip"),icon:"fas fa-download",className:"Button Button--icon",href:""+window.location.origin+r.a.forum.attribute("basePath")+"/api/players/download",force:!1,target:"_blank"})),e},a.changeSort=function(t){var e=this.params();"newest"===t?delete e.sort:e.sort=t,m.route.set(r.a.route(this.attrs.routeName,e))},a.stickyParams=function(){return{sort:m.route.param("sort"),q:m.route.param("q")}},a.params=function(){return this.stickyParams()},e}(ot.a),Et=a(19),_t=a.n(Et),Tt=a(11),It=a.n(Tt),At=a(36),Ot=a.n(At);function Bt(t,e,a){var n=new Date,r=n;return 0===n.getDay()?r.setDate(e.getDate()+7):r=I(n,0),Ot()(t,{dateSelected:e,maxDate:r,disabler:function(t){return 0!=t.getDay()},onSelect:a,formatter:function(t,e,a){var n=e.toLocaleDateString();t.value=n}})}var Lt=function(){function t(){}return t.types=function(){return{pointTask:r.a.translator.trans("hcl.forum.updates.types.pointTask"),minorPointTask:r.a.translator.trans("hcl.forum.updates.types.minorPointTask"),welfare:r.a.translator.trans("hcl.forum.updates.types.welfare"),affiliate:r.a.translator.trans("hcl.forum.updates.types.affiliate"),pressConference:r.a.translator.trans("hcl.forum.updates.types.pressConference"),activityCheck:r.a.translator.trans("hcl.forum.updates.types.activityCheck"),job:r.a.translator.trans("hcl.forum.updates.types.job"),predictions:r.a.translator.trans("hcl.forum.updates.types.predictions"),simAttendance:r.a.translator.trans("hcl.forum.updates.types.simAttendance"),other:r.a.translator.trans("hcl.forum.updates.types.other")}},t.getTpe=function(t){switch(t){case"pointTask":return 6;case"minorPointTask":case"welfare":return 3;case"pressConference":return 2;case"activityCheck":case"simAttendance":return 1;case"predictions":case"job":case"affiliate":case"other":default:return null}},t.getCommentRequired=function(t){return"other"===t||"job"===t},t}(),qt=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.saving=!1;var a="";this.attrs.post&&(a=window.location.origin+r.a.route.post(this.attrs.post));var n=new Date,i=n;0!=n.getDay()&&(i=I(n,0)),this.date=It()(i),this.type=It()(),this.link=It()(a),this.comment=It()(),this.tpe=It()()},a.className=function(){return"Update Modal--small"},a.title=function(){return r.a.translator.trans("hcl.forum.updates.title")},a.oncreate=function(e){var a=this;t.prototype.oncreate.call(this,e),this.datepicker=Bt("#Update-datepicker",this.date(),(function(t,e){return a.date(e)}))},a.content=function(){var t=this;return m("div",{className:"Modal-body"},m("input",{type:"hidden",autofocus:"true",tabindex:-1}),m("div",{className:"Update--datepicker Form-group"},m("label",{for:"datepicker"},r.a.translator.trans("hcl.forum.updates.week_ending")),m("input",{id:"Update-datepicker",className:"FormControl",type:"text",required:!0,autocomplete:"off"})),m("div",{className:"Update--type Form-group"},m("label",{for:"type"},r.a.translator.trans("hcl.forum.updates.type")),m(vt,{id:"type",options:Lt.types(),className:"FormControl",value:this.type(),onchange:function(e){t.tpe(Lt.getTpe(e)),t.type(e)}})),m("div",{className:"Update--link Form-group"},m("label",{for:"link"},r.a.translator.trans("hcl.forum.updates.link")),m("input",{id:"link",className:"FormControl",type:"text",bidi:this.link})),m("div",{className:"Update--comment Form-group"},m("label",{for:"comment"},r.a.translator.trans("hcl.forum.updates.comment")),m("input",{id:"comment",className:"FormControl",type:"text",required:Lt.getCommentRequired(this.type()),bidi:this.comment})),m("div",{className:"Update--tpe Form-group"},m("label",{for:"tpe"},r.a.translator.trans("hcl.forum.basics.tpe")),m("input",{id:"tpe",type:"number",className:"FormControl",min:0,max:12,required:!0,bidi:this.tpe})),m("div",{className:"Form-gruop"},m(p.a,{type:"submit",className:"Button Button--primary",loading:this.saving,disabled:this.saving},r.a.translator.trans("hcl.forum.basics.submitt"))))},a.data=function(){return{date:_t()(this.date()).format("YYYY-MM-DD"),type:this.type(),link:this.link(),comment:this.comment(),tpe:this.tpe()}},a.onsubmit=function(t){var e=this;t.preventDefault(),this.saving=!0,r.a.store.createRecord("updates").save(this.data()).then((function(){e.hide(),r.a.alerts.show({type:"success"},r.a.translator.trans("hcl.forum.updates.success"))})).catch((function(){e.saving=!1}))},e}(Q.a),Rt=function(){function t(){}var e=t.prototype;return e.sortMap=function(){return{newest:"-submittedAt",oldest:"submittedAt"}},e.statusMap=function(){return{pending:"status:pending",all:"all",under_review:"status:under_review",approved:"status:approved",denied:"status:denied"}},t}(),$t=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=window.app),this.params=t,this.app=e,this.updates=[],this.moreResults=!1,this.loading=!1}var e=t.prototype;return e.requestParams=function(){var t={include:[],filter:{}},e=this.params.sort||"oldest";return t.sort=this.sortMap()[e],this.params.q?"all"!=this.params.q&&(t.filter.q=this.statusMap()[this.params.q]):t.filter.q=this.statusMap().pending,t},e.sortMap=function(){return P({default:""},(new Rt).sortMap())},e.statusMap=function(){return(new Rt).statusMap()},e.getParams=function(){return this.params},e.clear=function(){this.updates=[],m.redraw()},e.refreshParams=function(t){var e=this,a=Object.keys(t).some((function(a){return e.getParams()[a]!=t[a]}));this.hasUpdates()&&!a||(this.params=t,this.refresh())},e.refresh=function(){var t=this;return this.loading=!0,this.clear(),this.loadResults().then((function(e){var a=e.reduce((function(t,e){var a=e.submittedUser().id();return e.submittedUser().player()||t.includes(a)||t.push(a),t}),[]);0===a.length&&t.parseResults(e),a.forEach((function(n,r){r===a.length-1?app.store.find("users",n+"/player",null,{errorHandler:function(){}}).catch((function(){})).finally((function(){return t.parseResults(e)})):app.store.find("users",n+"/player",null,{errorHandler:function(){}})}))}),(function(){t.loading=!1,m.redraw()}))},e.loadResults=function(t){var e=this.app.preloadedApiDocument();if(e)return Promise.resolve(e);var a=this.requestParams();return a.page={offset:t},a.include=a.include.join(","),this.app.store.find("updates",a)},e.loadMore=function(){this.loading=!0,this.loadResults(this.updates.length).then(this.parseResults.bind(this))},e.parseResults=function(t){var e;return(e=this.updates).push.apply(e,t),this.loading=!1,this.moreResults=!!t.payload.links&&!!t.payload.links.next,m.redraw(),t},e.hasUpdates=function(){return this.updates.length>0},e.isLoading=function(){return this.loading},e.isSearchResults=function(){return!!this.params.q},e.empty=function(){return!this.hasUpdates()&&!this.isLoading()},t}(),Ft=a(37),Yt=a.n(Ft),jt=a(24),Gt=a.n(jt),Ht=a(38),zt=a.n(Ht);_t.a.extend(Yt.a);var Wt=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.update=this.attrs.update,this.player=this.update.submittedUser().player(),this.originalState=this.update,this.saving=!1,this.loadingPlayer=!1,this.dpInit=!1,this.updaterComment=new It.a(this.update.updaterComment()),this.tpe=new It.a(this.update.tpe()),this.date=new It.a(this.update.weekEnding()),this.isCapped=this.update.isCapped(),this.playerDeleted=!1},a.oncreate=function(e){var a=this;t.prototype.oncreate.call(this,e),this.loadingPlayer||this.dpInit||(this.dpInit=!0,this.datepicker=Bt("#Update-datepicker-"+this.update.id(),this.date(),(function(t,e){return a.date(e)})))},a.onupdate=function(t){var e=this;this.loadingPlayer||this.dpInit||(this.dpInit=!0,this.datepicker=Bt("#Update-datepicker-"+this.update.id(),this.date(),(function(t,a){return e.date(a)})))},a.view=function(){var t=this,e=null;if(this.update.updaterUser()&&(e=V()(this.update.updaterUser())),this.player||this.playerDeleted||this.loadPlayer(),this.loadingPlayer)return m("div",{className:"UpdateEditCard",style:{backgroundColor:this.update.submittedUser().color()}},m(Y.a,null));var a=null;return a=this.playerDeleted?"Retired":this.player.name(),m("div",{className:"UpdateEditCard",style:{backgroundColor:this.update.submittedUser().color()}},m("div",{className:"darkenBackground UpdateEditCard-wrapper"},m("div",{className:"UpdateEditCard-fields"},m("div",{className:"UpdateEditCard-item"},m("legend",null,r.a.translator.trans("hcl.forum.basics.player")),m("a",{href:r.a.route("user.updates",{username:this.update.submittedUser().username()})},a," ("),m("a",{href:r.a.route("user",{username:this.update.submittedUser().username()})},V()(this.update.submittedUser())),")"),m("div",{className:"UpdateEditCard-item UpdateEditCard-week"},m("legend",null,r.a.translator.trans("hcl.forum.basics.for_week")),m("input",{id:"Update-datepicker-"+this.update.id(),className:"FormControl",type:"text",required:!0,autocomplete:"off"})),m("div",{className:"UpdateEditCard-item"},m("legend",null,r.a.translator.trans("hcl.forum.basics.type")),r.a.translator.trans("hcl.forum.updates.types."+this.update.type())),m("div",{className:"UpdateEditCard-item UpdateEditCard-tpe"},m("legend",null,r.a.translator.trans("hcl.forum.basics.tpe")),m("input",{type:"number",min:1,max:12,className:"UpdateEditCard-tpe",bidi:this.tpe})),m("div",{className:"UpdateEditCard-item Checkbox"},m("legend",null,r.a.translator.trans("hcl.forum.basics.capped")),m(zt.a,{state:this.isCapped,onchange:function(e){return t.isCapped=e},loading:this.saving})),m("div",{className:"UpdateEditCard-item UpdateEditCard-full"},m("legend",null,r.a.translator.trans("hcl.forum.basics.link")),m("a",{href:this.update.link(),target:"_blank"},this.update.link())),m("div",{className:"UpdateEditCard-item UpdateEditCard-full"},m("legend",null,r.a.translator.trans("hcl.forum.basics.comment")),this.update.comment()),m("div",{className:"UpdateEditCard-item"},m("legend",null,r.a.translator.trans("hcl.forum.basics.current_status")),r.a.translator.trans("hcl.lib.update_status."+this.update.status())),m("div",{className:"UpdateEditCard-item"},m("legend",null,r.a.translator.trans("hcl.forum.basics.submitted_at")),Gt()(this.update.submittedAt())),m("div",{className:"UpdateEditCard-item"},m("legend",null,r.a.translator.trans("hcl.forum.basics.last_updated")),m("div",{className:"UpdateEditCard-date"},this.update.updatedAt()?Gt()(this.update.updatedAt()):"Never Updated")),m("div",{className:"UpdateEditCard-item"},m("legend",null,r.a.translator.trans("hcl.forum.basics.updater")),e),m("div",{className:"UpdateEditCard-item UpdateEditCard-full"},m("legend",null,r.a.translator.trans("hcl.forum.basics.updater_comment")),m("input",{type:"textarea",bidi:this.updaterComment}))),m("div",{className:"Button-group"},m(p.a,{className:"Button Button--approve Button--primary",onclick:function(){return t.approve()},disabled:this.update.isApproved()||this.saving},r.a.translator.trans("hcl.forum.updates.approve")),m(p.a,{className:"Button Button--deny Button--danger",onclick:function(){return t.deny()},disabled:this.update.isDenied()||this.saving},r.a.translator.trans("hcl.forum.updates.deny")),m(p.a,{className:"Button Button--under-review",disabled:this.update.isUnderReview()||this.saving,onclick:function(){return t.underReview()}},r.a.translator.trans("hcl.forum.updates.under_review")))))},a.loadPlayer=function(){var t=this;this.loadingPlayer=!0;var e=r.a.store.all("players").filter((function(e){return e.user()&&e.user().id()==t.update.submittedUser().id()}))[0];if(e)return this.loadingPlayer=!1,this.player=e,void m.redraw();r.a.store.find("users",this.update.submittedUser().id()+"/player",null,{errorHandler:function(){}}).then((function(e){t.player=e})).catch((function(){t.playerDeleted=!0})).finally((function(){t.loadingPlayer=!1,m.redraw()}))},a.data=function(t){var e={status:t};return this.updaterComment()&&(e.updaterComment=this.updaterComment()),_t()(this.date()).format("YYYY-MM-DD")!=_t()(this.update.date()).utc().format("YYYY-MM-DD")&&(e.date=_t()(this.date()).format("YYYY-MM-DD")),this.tpe()!=this.update.tpe()&&(e.tpe=this.tpe()),this.update.isCapped!==this.isCapped&&(e.isCapped=this.isCapped),e},a.approve=function(){var t=this;this.saving=!0,this.update.save(this.data("approved")).then((function(){r.a.alerts.show({type:"success"},r.a.translator.trans("hcl.forum.alerts.approved"))})).finally((function(){t.saving=!1}))},a.deny=function(){var t=this;if(this.saving=!0,!this.updaterComment())return r.a.alerts.show({type:"error"},r.a.translator.trans("hcl.forum.alerts.comment_required")),void(this.saving=!1);this.update.save(this.data("denied")).then((function(){r.a.alerts.show({type:"success"},r.a.translator.trans("hcl.forum.alerts.denied"))})).finally((function(){t.saving=!1}))},a.underReview=function(){var t=this;this.saving=!0,this.update.save(this.data("under_review")).then((function(){r.a.alerts.show({type:"success"},r.a.translator.trans("hcl.forum.alerts.underReview"))})).finally((function(){t.saving=!1}))},e}(z.a),Xt=function(t){function e(){return t.apply(this,arguments)||this}return x(e,t),e.prototype.view=function(){var t=this.attrs.update;return m("div",{className:"UpdateEditCardItem"},Wt.component({update:t}))},e}(z.a),Kt=function(t){function e(){return t.apply(this,arguments)||this}return x(e,t),e.prototype.view=function(){var t,e=this.attrs.state,a=e.getParams();if(e.isLoading()?t=Y.a.component():e.moreResults&&(t=p.a.component({className:"Button",onclick:e.loadMore.bind(e)},r.a.translator.trans("hcl.forum.page.load_more_button"))),e.empty()){var n=r.a.translator.trans("hcl.forum.page.empty_text");return m("div",{className:"DiscussionList"},R.a.component({text:n}))}return m("div",{className:"UserDirectoryList"+(e.isSearchResults()?" UserDirectoryList--searchResults":"")},m("ul",{className:"UserDirectoryList-users"},e.updates.filter((function(t){return!e.getParams().q||"all"===e.getParams().q||t.status()===e.getParams().q})).map((function(t){return m("li",{key:t.id(),"data-id":t.id()},Xt.component({update:t,params:a}))}))),m("div",{className:"UserDirectoryList-loadMore"},t))},e}(z.a),Vt=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),r.a.forum.attribute("canEditUpdates")||m.route.set(r.a.route("index")),this.state=new $t({}),this.state.refreshParams(r.a.search.params()),this.bodyClass="User--directory Update--directory"},a.view=function(){return m("div",{className:"IndexPage"},k.a.prototype.hero(),m("div",{className:"container"},m("div",{className:"sideNavContainer"},m("nav",{className:"IndexPage-nav sideNav"},m("ul",null,wt()(this.sidebarItems().toArray()))),m("div",{className:"IndexPage-results sideNavOffset"},m("div",{className:"IndexPage-toolbar"},m("ul",{className:"IndexPage-toolbar-view"},wt()(this.viewItems().toArray())),m("ul",{className:"IndexPage-toolbar-action"},wt()(this.actionItems().toArray()))),m(Kt,{state:this.state})))))},a.viewItems=function(){var t=new ct.a,e=this.state.sortMap(),a={};for(var n in e)a[n]=r.a.translator.trans("hcl.lib.sort."+n);t.add("sort",kt.a.component({options:a,value:this.params().sort||"default",onchange:this.changeSort.bind(this)}));var i=this.state.statusMap(),o={};for(var s in i)o[s]=r.a.translator.trans("hcl.lib.update_status."+s);return t.add("status",kt.a.component({options:o,value:this.params().q||"pending",onchange:this.changeStatus.bind(this)})),t},a.actionItems=function(){var t=this,e=new ct.a;return e.add("refresh",p.a.component({title:r.a.translator.trans("hcl.forum.page.refresh_tooltip"),icon:"fas fa-sync",className:"Button Button--icon",onclick:function(){t.state.refresh()}})),e},a.changeSort=function(t){var e=this.params();"default"===t?delete e.sort:e.sort=t,m.route.set(r.a.route(this.attrs.routeName,e))},a.changeStatus=function(t){var e=this.params();"default"===t?delete e.q:e.q=t,m.route.set(r.a.route(this.attrs.routeName,e))},a.stickyParams=function(){return{sort:m.route.param("sort"),q:m.route.param("q")}},a.params=function(){return this.stickyParams()},a.sidebarItems=function(){return k.a.prototype.sidebarItems()},a.navItems=function(){return k.a.prototype.navItems()},e}(ot.a),Jt=a(25),Zt=a.n(Jt),Qt=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.icon=function(){return"fas fa-certificate"},a.href=function(){return r.a.route("user.player",{username:r.a.session.user.username()})},a.content=function(){return r.a.translator.trans("hcl.forum.notifications.update_approved",{user:this.attrs.notification.fromUser()})},e}(Zt.a),te=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.icon=function(){return"fas fa-certificate"},a.href=function(){return r.a.route("user.updates",{username:r.a.session.user.username()})},a.content=function(){return r.a.translator.trans("hcl.forum.notifications.update_denied",{user:this.attrs.notification.fromUser()})},a.excerpt=function(){return this.attrs.notification.content()},e}(Zt.a),ee=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.updates=this.attrs.updates,this.updateIdToHighlight=this.attrs.updateIdToHighlight,this.user=this.attrs.user},a.view=function(){var t=this,e={backgroundColor:this.user.color()},a="UpdateGroupCard",n=null,i=null;return r.a.session.user===this.user&&(a+="Own",n=m("legend",{style:e,className:"UpdateGroupCard-end"},m("div",{className:"darkenBackground"},r.a.translator.trans("hcl.forum.basics.current_status"))),i=m("legend",{style:e},m("div",{className:"darkenBackground"},r.a.translator.trans("hcl.forum.basics.updater_comment")))),m("div",{className:a},m("legend",{style:e},m("div",{className:"darkenBackground"},r.a.translator.trans("hcl.forum.basics.type"))),m("legend",{style:e,className:"UpdateGroupCard-center"},m("div",{className:"darkenBackground"},r.a.translator.trans("hcl.forum.basics.tpe"))),m("legend",{style:e,className:"UpdateGroupCard-center"},m("div",{className:"darkenBackground"},r.a.translator.trans("hcl.forum.basics.capped"))),m("legend",{style:e},m("div",{className:"darkenBackground"},r.a.translator.trans("hcl.forum.basics.comment"))),i,m("legend",{style:e,className:"UpdateGroupCard-end"},m("div",{className:"darkenBackground"},r.a.translator.trans("hcl.forum.basics.approved_by"))),n,this.updates.map((function(e){var a=e.link()?m(X.a,{href:e.link()},r.a.translator.trans("hcl.forum.updates.types."+e.type())):r.a.translator.trans("hcl.forum.updates.types."+e.type()),n=null;e.updaterUser()?n=m(X.a,{href:r.a.route.user(e.updaterUser())},V()(e.updaterUser())):e.isApproved()&&(n=V()(e.updaterUser()));var i=[m("div",null,a),m("div",{className:"UpdateGroupCard-center"},e.tpe()),m("div",{className:"UpdateGroupCard-center"},e.isCapped()?mt()("fas fa-check"):null),m("div",null,e.comment())];return r.a.session.user===t.user&&i.push(m("div",null,e.updaterComment())),i.push(m("div",{className:"UpdateGroupCard-end"},n)),r.a.session.user===t.user&&i.push(m("div",{className:"UpdateGroupCard-end"},r.a.translator.trans("hcl.lib.update_status."+e.status()))),i})),m("div",{className:"UpdateGroupCard-totaltext"},r.a.translator.trans("hcl.forum.updates.total_tpe")),m("div",{className:"UpdateGroupCard-total UpdateGroupCard-center"},this.updates.reduce((function(t,e){return Number.isInteger(e.tpe())?t+e.tpe():t}),0)))},e}(z.a),ae=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.loading=!0,this.moreResults=!1,this.updates=[],this.sortMap=new Rt,this.status="all",this.loadLimit=20,this.loadUser(m.route.param("username"))},a.onremove=function(){this.updates=null},a.content=function(){var t,e,a=this;if(r.a.session.user===this.user&&this.user.player()&&(t=m("div",{className:"IndexPage-toolbar"},m("ul",{className:"IndexPage-toolbar-view"},wt()(this.viewItems().toArray())),m("ul",{className:"IndexPage-toolbar-action"},wt()(this.actionItems().toArray())))),0===this.updates.length&&!this.loading)return m("div",{className:"PostsUserPage UpdatesUserPage"},t,m(R.a,{text:r.a.translator.trans("hcl.forum.user.updates_empty_text")}));this.loading?e=m(Y.a,null):this.moreResults&&(e=m("div",{className:"PostsUserPage-loadmore UpdatesUserPage-loadMore"},m(p.a,{className:"Button",onclick:this.loadMore.bind(this)},r.a.translator.trans("hcl.forum.user.updates_load_more_button"))));var n=this.updates.reduce((function(t,e){var a=e.weekEnding().toLocaleDateString();return t[a]||(t[a]=[]),t[a].push(e),t}),{});return m("div",{className:"PostsUserPage UpdatesUserPage"},t,m("ul",{className:"PostsUserPage-list UpdatesUserPage-list"},Object.keys(n).sort((function(t,e){return new Date(e)-new Date(t)})).map((function(t){return m("li",null,m("div",{className:"PostsUserPage-discussion UpdatesUserPage-week"},r.a.translator.trans("hcl.forum.user.for_week",{week:t})),m(ee,{updates:n[t],user:a.user}))}))),m("div",{className:"PostsUserPage-loadMore UdatesUserPage-loadMore"},e))},a.viewItems=function(){var t=this,e=new ct.a,a=this.sortMap.statusMap(),n={};for(var i in a)n[i]=r.a.translator.trans("hcl.lib.update_status."+i);return e.add("status",kt.a.component({options:n,value:this.status||"all",onchange:function(e){t.status=e,t.refresh()}})),e},a.actionItems=function(){var t=new ct.a;return t.add("new-update",m(p.a,{title:r.a.translator.trans("hcl.forum.page.new_update"),icon:"fas fa-certificate",className:"Button",onclick:function(){return r.a.modal.show(qt,{})}},r.a.translator.trans("hcl.forum.page.new_update"))),t},a.show=function(e){t.prototype.show.call(this,e),this.refresh()},a.refresh=function(){this.loading=!0,this.updates=[],m.redraw(),this.loadUpdates().then(this.parseResults.bind(this))},a.loadUpdates=function(t){var e="username:"+this.user.username();return r.a.session.user!=this.user?e+=" status:approved":e+=" "+this.sortMap.statusMap()[this.status],r.a.store.find("updates",{filter:{q:e},page:{offset:t,limit:this.loadLimit},sort:"-submittedAt"})},a.loadMore=function(){this.loading=!0,this.loadUpdates(this.updates.length).then(this.parseResults.bind(this))},a.parseResults=function(t){return this.loading=!1,[].push.apply(this.updates,t),this.moreResults=t.length>=this.loadLimit,m.redraw(),t},e}(w.a);
/**!
 * Sortable 1.13.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function ne(t){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function re(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function ie(){return(ie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function oe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),n.forEach((function(e){re(t,e,a[e])}))}return t}function se(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function le(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var ue=le(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ce=le(/Edge/i),de=le(/firefox/i),he=le(/safari/i)&&!le(/chrome/i)&&!le(/android/i),me=le(/iP(ad|od|hone)/i),pe=le(/chrome/i)&&le(/android/i),fe={capture:!1,passive:!1};function ve(t,e,a){t.addEventListener(e,a,!ue&&fe)}function ge(t,e,a){t.removeEventListener(e,a,!ue&&fe)}function ye(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function be(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function we(t,e,a,n){if(t){a=a||document;do{if(null!=e&&(">"===e[0]?t.parentNode===a&&ye(t,e):ye(t,e))||n&&t===a)return t;if(t===a)break}while(t=be(t))}return null}var Se,ke=/\s+/g;function Ne(t,e,a){if(t&&e)if(t.classList)t.classList[a?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(ke," ").replace(" "+e+" "," ");t.className=(n+(a?" "+e:"")).replace(ke," ")}}function Ce(t,e,a){var n=t&&t.style;if(n){if(void 0===a)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(a=t.currentStyle),void 0===e?a:a[e];e in n||-1!==e.indexOf("webkit")||(e="-webkit-"+e),n[e]=a+("string"==typeof a?"":"px")}}function Me(t,e){var a="";if("string"==typeof t)a=t;else do{var n=Ce(t,"transform");n&&"none"!==n&&(a=n+" "+a)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(a)}function De(t,e,a){if(t){var n=t.getElementsByTagName(e),r=0,i=n.length;if(a)for(;r<i;r++)a(n[r],r);return n}return[]}function Pe(){var t=document.scrollingElement;return t||document.documentElement}function xe(t,e,a,n,r){if(t.getBoundingClientRect||t===window){var i,o,s,l,u,c,d;if(t!==window&&t.parentNode&&t!==Pe()?(o=(i=t.getBoundingClientRect()).top,s=i.left,l=i.bottom,u=i.right,c=i.height,d=i.width):(o=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||a)&&t!==window&&(r=r||t.parentNode,!ue))do{if(r&&r.getBoundingClientRect&&("none"!==Ce(r,"transform")||a&&"static"!==Ce(r,"position"))){var h=r.getBoundingClientRect();o-=h.top+parseInt(Ce(r,"border-top-width")),s-=h.left+parseInt(Ce(r,"border-left-width")),l=o+i.height,u=s+i.width;break}}while(r=r.parentNode);if(n&&t!==window){var m=Me(r||t),p=m&&m.a,f=m&&m.d;m&&(l=(o/=f)+(c/=f),u=(s/=p)+(d/=p))}return{top:o,left:s,bottom:l,right:u,width:d,height:c}}}function Ue(t,e,a){for(var n=Ae(t,!0),r=xe(t)[e];n;){var i=xe(n)[a];if(!("top"===a||"left"===a?r>=i:r<=i))return n;if(n===Pe())break;n=Ae(n,!1)}return!1}function Ee(t,e,a){for(var n=0,r=0,i=t.children;r<i.length;){if("none"!==i[r].style.display&&i[r]!==La.ghost&&i[r]!==La.dragged&&we(i[r],a.draggable,t,!1)){if(n===e)return i[r];n++}r++}return null}function _e(t,e){for(var a=t.lastElementChild;a&&(a===La.ghost||"none"===Ce(a,"display")||e&&!ye(a,e));)a=a.previousElementSibling;return a||null}function Te(t,e){var a=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===La.clone||e&&!ye(t,e)||a++;return a}function Ie(t){var e=0,a=0,n=Pe();if(t)do{var r=Me(t),i=r.a,o=r.d;e+=t.scrollLeft*i,a+=t.scrollTop*o}while(t!==n&&(t=t.parentNode));return[e,a]}function Ae(t,e){if(!t||!t.getBoundingClientRect)return Pe();var a=t,n=!1;do{if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var r=Ce(a);if(a.clientWidth<a.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!a.getBoundingClientRect||a===document.body)return Pe();if(n||e)return a;n=!0}}}while(a=a.parentNode);return Pe()}function Oe(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function Be(t,e){return function(){if(!Se){var a=arguments,n=this;1===a.length?t.call(n,a[0]):t.apply(n,a),Se=setTimeout((function(){Se=void 0}),e)}}}function Le(t,e,a){t.scrollLeft+=e,t.scrollTop+=a}function qe(t){var e=window.Polymer,a=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):a?a(t).clone(!0)[0]:t.cloneNode(!0)}var Re="Sortable"+(new Date).getTime();function $e(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==Ce(t,"display")&&t!==La.ghost){e.push({target:t,rect:xe(t)});var a=oe({},e[e.length-1].rect);if(t.thisAnimationDuration){var n=Me(t,!0);n&&(a.top-=n.f,a.left-=n.e)}t.fromRect=a}}))},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var a in t)if(t.hasOwnProperty(a))for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[a][n])return Number(a);return-1}(e,{target:t}),1)},animateAll:function(a){var n=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof a&&a());var r=!1,i=0;e.forEach((function(t){var e=0,a=t.target,o=a.fromRect,s=xe(a),l=a.prevFromRect,u=a.prevToRect,c=t.rect,d=Me(a,!0);d&&(s.top-=d.f,s.left-=d.e),a.toRect=s,a.thisAnimationDuration&&Oe(l,s)&&!Oe(o,s)&&(c.top-s.top)/(c.left-s.left)==(o.top-s.top)/(o.left-s.left)&&(e=function(t,e,a,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))*n.animation}(c,l,u,n.options)),Oe(s,o)||(a.prevFromRect=o,a.prevToRect=s,e||(e=n.options.animation),n.animate(a,c,s,e)),e&&(r=!0,i=Math.max(i,e),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout((function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null}),e),a.thisAnimationDuration=e)})),clearTimeout(t),r?t=setTimeout((function(){"function"==typeof a&&a()}),i):"function"==typeof a&&a(),e=[]},animate:function(t,e,a,n){if(n){Ce(t,"transition",""),Ce(t,"transform","");var r=Me(this.el),i=r&&r.a,o=r&&r.d,s=(e.left-a.left)/(i||1),l=(e.top-a.top)/(o||1);t.animatingX=!!s,t.animatingY=!!l,Ce(t,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),Ce(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),Ce(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){Ce(t,"transition",""),Ce(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),n)}}}}var Fe=[],Ye={initializeByDefault:!0},je={mount:function(t){for(var e in Ye)Ye.hasOwnProperty(e)&&!(e in t)&&(t[e]=Ye[e]);Fe.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),Fe.push(t)},pluginEvent:function(t,e,a){var n=this;this.eventCanceled=!1,a.cancel=function(){n.eventCanceled=!0};var r=t+"Global";Fe.forEach((function(n){e[n.pluginName]&&(e[n.pluginName][r]&&e[n.pluginName][r](oe({sortable:e},a)),e.options[n.pluginName]&&e[n.pluginName][t]&&e[n.pluginName][t](oe({sortable:e},a)))}))},initializePlugins:function(t,e,a,n){for(var r in Fe.forEach((function(n){var r=n.pluginName;if(t.options[r]||n.initializeByDefault){var i=new n(t,e,t.options);i.sortable=t,i.options=t.options,t[r]=i,ie(a,i.defaults)}})),t.options)if(t.options.hasOwnProperty(r)){var i=this.modifyOption(t,r,t.options[r]);void 0!==i&&(t.options[r]=i)}},getEventProperties:function(t,e){var a={};return Fe.forEach((function(n){"function"==typeof n.eventProperties&&ie(a,n.eventProperties.call(e[n.pluginName],t))})),a},modifyOption:function(t,e,a){var n;return Fe.forEach((function(r){t[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[e]&&(n=r.optionListeners[e].call(t[r.pluginName],a))})),n}};function Ge(t){var e=t.sortable,a=t.rootEl,n=t.name,r=t.targetEl,i=t.cloneEl,o=t.toEl,s=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,m=t.putSortable,p=t.extraEventProperties;if(e=e||a&&a[Re]){var f,v=e.options,g="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||ue||ce?(f=document.createEvent("Event")).initEvent(n,!0,!0):f=new CustomEvent(n,{bubbles:!0,cancelable:!0}),f.to=o||a,f.from=s||a,f.item=r||a,f.clone=i,f.oldIndex=l,f.newIndex=u,f.oldDraggableIndex=c,f.newDraggableIndex=d,f.originalEvent=h,f.pullMode=m?m.lastPutMode:void 0;var y=oe({},p,je.getEventProperties(n,e));for(var b in y)f[b]=y[b];a&&a.dispatchEvent(f),v[g]&&v[g].call(e,f)}}var He=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.evt,r=se(a,["evt"]);je.pluginEvent.bind(La)(t,e,oe({dragEl:We,parentEl:Xe,ghostEl:Ke,rootEl:Ve,nextEl:Je,lastDownEl:Ze,cloneEl:Qe,cloneHidden:ta,dragStarted:ma,putSortable:oa,activeSortable:La.active,originalEvent:n,oldIndex:ea,oldDraggableIndex:na,newIndex:aa,newDraggableIndex:ra,hideGhostForTarget:Ia,unhideGhostForTarget:Aa,cloneNowHidden:function(){ta=!0},cloneNowShown:function(){ta=!1},dispatchSortableEvent:function(t){ze({sortable:e,name:t,originalEvent:n})}},r))};function ze(t){Ge(oe({putSortable:oa,cloneEl:Qe,targetEl:We,rootEl:Ve,oldIndex:ea,oldDraggableIndex:na,newIndex:aa,newDraggableIndex:ra},t))}var We,Xe,Ke,Ve,Je,Ze,Qe,ta,ea,aa,na,ra,ia,oa,sa,la,ua,ca,da,ha,ma,pa,fa,va,ga,ya=!1,ba=!1,wa=[],Sa=!1,ka=!1,Na=[],Ca=!1,Ma=[],Da="undefined"!=typeof document,Pa=me,xa=ce||ue?"cssFloat":"float",Ua=Da&&!pe&&!me&&"draggable"in document.createElement("div"),Ea=function(){if(Da){if(ue)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),_a=function(t,e){var a=Ce(t),n=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),r=Ee(t,0,e),i=Ee(t,1,e),o=r&&Ce(r),s=i&&Ce(i),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+xe(r).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+xe(i).width;if("flex"===a.display)return"column"===a.flexDirection||"column-reverse"===a.flexDirection?"vertical":"horizontal";if("grid"===a.display)return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&o.float&&"none"!==o.float){var c="left"===o.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return r&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=n&&"none"===a[xa]||i&&"none"===a[xa]&&l+u>n)?"vertical":"horizontal"},Ta=function(t){function e(t,a){return function(n,r,i,o){var s=n.options.group.name&&r.options.group.name&&n.options.group.name===r.options.group.name;if(null==t&&(a||s))return!0;if(null==t||!1===t)return!1;if(a&&"clone"===t)return t;if("function"==typeof t)return e(t(n,r,i,o),a)(n,r,i,o);var l=(a?n:r).options.group.name;return!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var a={},n=t.group;n&&"object"==ne(n)||(n={name:n}),a.name=n.name,a.checkPull=e(n.pull,!0),a.checkPut=e(n.put),a.revertClone=n.revertClone,t.group=a},Ia=function(){!Ea&&Ke&&Ce(Ke,"display","none")},Aa=function(){!Ea&&Ke&&Ce(Ke,"display","")};Da&&document.addEventListener("click",(function(t){if(ba)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ba=!1,!1}),!0);var Oa=function(t){if(We){t=t.touches?t.touches[0]:t;var e=(r=t.clientX,i=t.clientY,wa.some((function(t){if(!_e(t)){var e=xe(t),a=t[Re].options.emptyInsertThreshold,n=r>=e.left-a&&r<=e.right+a,s=i>=e.top-a&&i<=e.bottom+a;return a&&n&&s?o=t:void 0}})),o);if(e){var a={};for(var n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);a.target=a.rootEl=e,a.preventDefault=void 0,a.stopPropagation=void 0,e[Re]._onDragOver(a)}}var r,i,o},Ba=function(t){We&&We.parentNode[Re]._isOutsideThisEl(t.target)};function La(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ie({},e),t[Re]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _a(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==La.supportPointer&&"PointerEvent"in window&&!he,emptyInsertThreshold:5};for(var n in je.initializePlugins(this,t,a),a)!(n in e)&&(e[n]=a[n]);for(var r in Ta(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&Ua,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ve(t,"pointerdown",this._onTapStart):(ve(t,"mousedown",this._onTapStart),ve(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ve(t,"dragover",this),ve(t,"dragenter",this)),wa.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ie(this,$e())}function qa(t,e,a,n,r,i,o,s){var l,u,c=t[Re],d=c.options.onMove;return!window.CustomEvent||ue||ce?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=a,l.draggedRect=n,l.related=r||e,l.relatedRect=i||xe(e),l.willInsertAfter=s,l.originalEvent=o,t.dispatchEvent(l),d&&(u=d.call(c,l,o)),u}function Ra(t){t.draggable=!1}function $a(){Ca=!1}function Fa(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,a=e.length,n=0;a--;)n+=e.charCodeAt(a);return n.toString(36)}function Ya(t){return setTimeout(t,0)}function ja(t){return clearTimeout(t)}La.prototype={constructor:La,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(pa=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,We):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,a=this.el,n=this.options,r=n.preventOnFilter,i=t.type,o=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(o||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,u=n.filter;if(function(t){Ma.length=0;var e=t.getElementsByTagName("input"),a=e.length;for(;a--;){var n=e[a];n.checked&&Ma.push(n)}}(a),!We&&!(/mousedown|pointerdown/.test(i)&&0!==t.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!he||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=we(s,n.draggable,a,!1))&&s.animated||Ze===s)){if(ea=Te(s),na=Te(s,n.draggable),"function"==typeof u){if(u.call(this,t,s,this))return ze({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:a,fromEl:a}),He("filter",e,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(u&&(u=u.split(",").some((function(n){if(n=we(l,n.trim(),a,!1))return ze({sortable:e,rootEl:n,name:"filter",targetEl:s,fromEl:a,toEl:a}),He("filter",e,{evt:t}),!0}))))return void(r&&t.cancelable&&t.preventDefault());n.handle&&!we(l,n.handle,a,!1)||this._prepareDragStart(t,o,s)}}},_prepareDragStart:function(t,e,a){var n,r=this,i=r.el,o=r.options,s=i.ownerDocument;if(a&&!We&&a.parentNode===i){var l=xe(a);if(Ve=i,Xe=(We=a).parentNode,Je=We.nextSibling,Ze=a,ia=o.group,La.dragged=We,sa={target:We,clientX:(e||t).clientX,clientY:(e||t).clientY},da=sa.clientX-l.left,ha=sa.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,We.style["will-change"]="all",n=function(){He("delayEnded",r,{evt:t}),La.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!de&&r.nativeDraggable&&(We.draggable=!0),r._triggerDragStart(t,e),ze({sortable:r,name:"choose",originalEvent:t}),Ne(We,o.chosenClass,!0))},o.ignore.split(",").forEach((function(t){De(We,t.trim(),Ra)})),ve(s,"dragover",Oa),ve(s,"mousemove",Oa),ve(s,"touchmove",Oa),ve(s,"mouseup",r._onDrop),ve(s,"touchend",r._onDrop),ve(s,"touchcancel",r._onDrop),de&&this.nativeDraggable&&(this.options.touchStartThreshold=4,We.draggable=!0),He("delayStart",this,{evt:t}),!o.delay||o.delayOnTouchOnly&&!e||this.nativeDraggable&&(ce||ue))n();else{if(La.eventCanceled)return void this._onDrop();ve(s,"mouseup",r._disableDelayedDrag),ve(s,"touchend",r._disableDelayedDrag),ve(s,"touchcancel",r._disableDelayedDrag),ve(s,"mousemove",r._delayedDragTouchMoveHandler),ve(s,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&ve(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(n,o.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){We&&Ra(We),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ge(t,"mouseup",this._disableDelayedDrag),ge(t,"touchend",this._disableDelayedDrag),ge(t,"touchcancel",this._disableDelayedDrag),ge(t,"mousemove",this._delayedDragTouchMoveHandler),ge(t,"touchmove",this._delayedDragTouchMoveHandler),ge(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?ve(document,"pointermove",this._onTouchMove):ve(document,e?"touchmove":"mousemove",this._onTouchMove):(ve(We,"dragend",this),ve(Ve,"dragstart",this._onDragStart));try{document.selection?Ya((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(ya=!1,Ve&&We){He("dragStarted",this,{evt:e}),this.nativeDraggable&&ve(document,"dragover",Ba);var a=this.options;!t&&Ne(We,a.dragClass,!1),Ne(We,a.ghostClass,!0),La.active=this,t&&this._appendGhost(),ze({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(la){this._lastX=la.clientX,this._lastY=la.clientY,Ia();for(var t=document.elementFromPoint(la.clientX,la.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(la.clientX,la.clientY))!==e;)e=t;if(We.parentNode[Re]._isOutsideThisEl(t),e)do{if(e[Re]){if(e[Re]._onDragOver({clientX:la.clientX,clientY:la.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Aa()}},_onTouchMove:function(t){if(sa){var e=this.options,a=e.fallbackTolerance,n=e.fallbackOffset,r=t.touches?t.touches[0]:t,i=Ke&&Me(Ke,!0),o=Ke&&i&&i.a,s=Ke&&i&&i.d,l=Pa&&ga&&Ie(ga),u=(r.clientX-sa.clientX+n.x)/(o||1)+(l?l[0]-Na[0]:0)/(o||1),c=(r.clientY-sa.clientY+n.y)/(s||1)+(l?l[1]-Na[1]:0)/(s||1);if(!La.active&&!ya){if(a&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<a)return;this._onDragStart(t,!0)}if(Ke){i?(i.e+=u-(ua||0),i.f+=c-(ca||0)):i={a:1,b:0,c:0,d:1,e:u,f:c};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");Ce(Ke,"webkitTransform",d),Ce(Ke,"mozTransform",d),Ce(Ke,"msTransform",d),Ce(Ke,"transform",d),ua=u,ca=c,la=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ke){var t=this.options.fallbackOnBody?document.body:Ve,e=xe(We,!0,Pa,!0,t),a=this.options;if(Pa){for(ga=t;"static"===Ce(ga,"position")&&"none"===Ce(ga,"transform")&&ga!==document;)ga=ga.parentNode;ga!==document.body&&ga!==document.documentElement?(ga===document&&(ga=Pe()),e.top+=ga.scrollTop,e.left+=ga.scrollLeft):ga=Pe(),Na=Ie(ga)}Ne(Ke=We.cloneNode(!0),a.ghostClass,!1),Ne(Ke,a.fallbackClass,!0),Ne(Ke,a.dragClass,!0),Ce(Ke,"transition",""),Ce(Ke,"transform",""),Ce(Ke,"box-sizing","border-box"),Ce(Ke,"margin",0),Ce(Ke,"top",e.top),Ce(Ke,"left",e.left),Ce(Ke,"width",e.width),Ce(Ke,"height",e.height),Ce(Ke,"opacity","0.8"),Ce(Ke,"position",Pa?"absolute":"fixed"),Ce(Ke,"zIndex","100000"),Ce(Ke,"pointerEvents","none"),La.ghost=Ke,t.appendChild(Ke),Ce(Ke,"transform-origin",da/parseInt(Ke.style.width)*100+"% "+ha/parseInt(Ke.style.height)*100+"%")}},_onDragStart:function(t,e){var a=this,n=t.dataTransfer,r=a.options;He("dragStart",this,{evt:t}),La.eventCanceled?this._onDrop():(He("setupClone",this),La.eventCanceled||((Qe=qe(We)).draggable=!1,Qe.style["will-change"]="",this._hideClone(),Ne(Qe,this.options.chosenClass,!1),La.clone=Qe),a.cloneId=Ya((function(){He("clone",a),La.eventCanceled||(a.options.removeCloneOnHide||Ve.insertBefore(Qe,We),a._hideClone(),ze({sortable:a,name:"clone"}))})),!e&&Ne(We,r.dragClass,!0),e?(ba=!0,a._loopId=setInterval(a._emulateDragOver,50)):(ge(document,"mouseup",a._onDrop),ge(document,"touchend",a._onDrop),ge(document,"touchcancel",a._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(a,n,We)),ve(document,"drop",a),Ce(We,"transform","translateZ(0)")),ya=!0,a._dragStartId=Ya(a._dragStarted.bind(a,e,t)),ve(document,"selectstart",a),ma=!0,he&&Ce(document.body,"user-select","none"))},_onDragOver:function(t){var e,a,n,r,i=this.el,o=t.target,s=this.options,l=s.group,u=La.active,c=ia===l,d=s.sort,h=oa||u,m=this,p=!1;if(!Ca){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),o=we(o,s.draggable,i,!0),x("dragOver"),La.eventCanceled)return p;if(We.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||m._ignoreWhileAnimating===o)return E(!1);if(ba=!1,u&&!s.disabled&&(c?d||(n=!Ve.contains(We)):oa===this||(this.lastPutMode=ia.checkPull(this,u,We,t))&&l.checkPut(this,u,We,t))){if(r="vertical"===this._getDirection(t,o),e=xe(We),x("dragOverValid"),La.eventCanceled)return p;if(n)return Xe=Ve,U(),this._hideClone(),x("revert"),La.eventCanceled||(Je?Ve.insertBefore(We,Je):Ve.appendChild(We)),E(!0);var f=_e(i,s.draggable);if(!f||function(t,e,a){var n=xe(_e(a.el,a.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(t,r,this)&&!f.animated){if(f===We)return E(!1);if(f&&i===t.target&&(o=f),o&&(a=xe(o)),!1!==qa(Ve,i,We,e,o,a,t,!!o))return U(),i.appendChild(We),Xe=i,_(),E(!0)}else if(o.parentNode===i){a=xe(o);var v,g,y,b=We.parentNode!==i,w=!function(t,e,a){var n=a?t.left:t.top,r=a?t.right:t.bottom,i=a?t.width:t.height,o=a?e.left:e.top,s=a?e.right:e.bottom,l=a?e.width:e.height;return n===o||r===s||n+i/2===o+l/2}(We.animated&&We.toRect||e,o.animated&&o.toRect||a,r),S=r?"top":"left",k=Ue(o,"top","top")||Ue(We,"top","top"),N=k?k.scrollTop:void 0;if(pa!==o&&(g=a[S],Sa=!1,ka=!w&&s.invertSwap||b),0!==(v=function(t,e,a,n,r,i,o,s){var l=n?t.clientY:t.clientX,u=n?a.height:a.width,c=n?a.top:a.left,d=n?a.bottom:a.right,h=!1;if(!o)if(s&&va<u*r){if(!Sa&&(1===fa?l>c+u*i/2:l<d-u*i/2)&&(Sa=!0),Sa)h=!0;else if(1===fa?l<c+va:l>d-va)return-fa}else if(l>c+u*(1-r)/2&&l<d-u*(1-r)/2)return function(t){return Te(We)<Te(t)?1:-1}(e);if((h=h||o)&&(l<c+u*i/2||l>d-u*i/2))return l>c+u/2?1:-1;return 0}(t,o,a,r,w?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,ka,pa===o))){var C=Te(We);do{C-=v,y=Xe.children[C]}while(y&&("none"===Ce(y,"display")||y===Ke))}if(0===v||y===o)return E(!1);pa=o,fa=v;var M=o.nextElementSibling,D=!1,P=qa(Ve,i,We,e,o,a,t,D=1===v);if(!1!==P)return 1!==P&&-1!==P||(D=1===P),Ca=!0,setTimeout($a,30),U(),D&&!M?i.appendChild(We):o.parentNode.insertBefore(We,D?M:o),k&&Le(k,0,N-k.scrollTop),Xe=We.parentNode,void 0===g||ka||(va=Math.abs(g-xe(o)[S])),_(),E(!0)}if(i.contains(We))return E(!1)}return!1}function x(s,l){He(s,m,oe({evt:t,isOwner:c,axis:r?"vertical":"horizontal",revert:n,dragRect:e,targetRect:a,canSort:d,fromSortable:h,target:o,completed:E,onMove:function(a,n){return qa(Ve,i,We,e,a,xe(a),t,n)},changed:_},l))}function U(){x("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function E(e){return x("dragOverCompleted",{insertion:e}),e&&(c?u._hideClone():u._showClone(m),m!==h&&(Ne(We,oa?oa.options.ghostClass:u.options.ghostClass,!1),Ne(We,s.ghostClass,!0)),oa!==m&&m!==La.active?oa=m:m===La.active&&oa&&(oa=null),h===m&&(m._ignoreWhileAnimating=o),m.animateAll((function(){x("dragOverAnimationComplete"),m._ignoreWhileAnimating=null})),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(o===We&&!We.animated||o===i&&!o.animated)&&(pa=null),s.dragoverBubble||t.rootEl||o===document||(We.parentNode[Re]._isOutsideThisEl(t.target),!e&&Oa(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),p=!0}function _(){aa=Te(We),ra=Te(We,s.draggable),ze({sortable:m,name:"change",toEl:i,newIndex:aa,newDraggableIndex:ra,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){ge(document,"mousemove",this._onTouchMove),ge(document,"touchmove",this._onTouchMove),ge(document,"pointermove",this._onTouchMove),ge(document,"dragover",Oa),ge(document,"mousemove",Oa),ge(document,"touchmove",Oa)},_offUpEvents:function(){var t=this.el.ownerDocument;ge(t,"mouseup",this._onDrop),ge(t,"touchend",this._onDrop),ge(t,"pointerup",this._onDrop),ge(t,"touchcancel",this._onDrop),ge(document,"selectstart",this)},_onDrop:function(t){var e=this.el,a=this.options;aa=Te(We),ra=Te(We,a.draggable),He("drop",this,{evt:t}),Xe=We&&We.parentNode,aa=Te(We),ra=Te(We,a.draggable),La.eventCanceled||(ya=!1,ka=!1,Sa=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ja(this.cloneId),ja(this._dragStartId),this.nativeDraggable&&(ge(document,"drop",this),ge(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),he&&Ce(document.body,"user-select",""),Ce(We,"transform",""),t&&(ma&&(t.cancelable&&t.preventDefault(),!a.dropBubble&&t.stopPropagation()),Ke&&Ke.parentNode&&Ke.parentNode.removeChild(Ke),(Ve===Xe||oa&&"clone"!==oa.lastPutMode)&&Qe&&Qe.parentNode&&Qe.parentNode.removeChild(Qe),We&&(this.nativeDraggable&&ge(We,"dragend",this),Ra(We),We.style["will-change"]="",ma&&!ya&&Ne(We,oa?oa.options.ghostClass:this.options.ghostClass,!1),Ne(We,this.options.chosenClass,!1),ze({sortable:this,name:"unchoose",toEl:Xe,newIndex:null,newDraggableIndex:null,originalEvent:t}),Ve!==Xe?(aa>=0&&(ze({rootEl:Xe,name:"add",toEl:Xe,fromEl:Ve,originalEvent:t}),ze({sortable:this,name:"remove",toEl:Xe,originalEvent:t}),ze({rootEl:Xe,name:"sort",toEl:Xe,fromEl:Ve,originalEvent:t}),ze({sortable:this,name:"sort",toEl:Xe,originalEvent:t})),oa&&oa.save()):aa!==ea&&aa>=0&&(ze({sortable:this,name:"update",toEl:Xe,originalEvent:t}),ze({sortable:this,name:"sort",toEl:Xe,originalEvent:t})),La.active&&(null!=aa&&-1!==aa||(aa=ea,ra=na),ze({sortable:this,name:"end",toEl:Xe,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){He("nulling",this),Ve=We=Xe=Ke=Je=Qe=Ze=ta=sa=la=ma=aa=ra=ea=na=pa=fa=oa=ia=La.dragged=La.ghost=La.clone=La.active=null,Ma.forEach((function(t){t.checked=!0})),Ma.length=ua=ca=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":We&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],a=this.el.children,n=0,r=a.length,i=this.options;n<r;n++)we(t=a[n],i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||Fa(t));return e},sort:function(t,e){var a={},n=this.el;this.toArray().forEach((function(t,e){var r=n.children[e];we(r,this.options.draggable,n,!1)&&(a[t]=r)}),this),e&&this.captureAnimationState(),t.forEach((function(t){a[t]&&(n.removeChild(a[t]),n.appendChild(a[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return we(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var a=this.options;if(void 0===e)return a[t];var n=je.modifyOption(this,t,e);a[t]=void 0!==n?n:e,"group"===t&&Ta(a)},destroy:function(){He("destroy",this);var t=this.el;t[Re]=null,ge(t,"mousedown",this._onTapStart),ge(t,"touchstart",this._onTapStart),ge(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ge(t,"dragover",this),ge(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),wa.splice(wa.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ta){if(He("hideClone",this),La.eventCanceled)return;Ce(Qe,"display","none"),this.options.removeCloneOnHide&&Qe.parentNode&&Qe.parentNode.removeChild(Qe),ta=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(ta){if(He("showClone",this),La.eventCanceled)return;We.parentNode!=Ve||this.options.group.revertClone?Je?Ve.insertBefore(Qe,Je):Ve.appendChild(Qe):Ve.insertBefore(Qe,We),this.options.group.revertClone&&this.animate(We,Qe),Ce(Qe,"display",""),ta=!1}}else this._hideClone()}},Da&&ve(document,"touchmove",(function(t){(La.active||ya)&&t.cancelable&&t.preventDefault()})),La.utils={on:ve,off:ge,css:Ce,find:De,is:function(t,e){return!!we(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t},throttle:Be,closest:we,toggleClass:Ne,clone:qe,index:Te,nextTick:Ya,cancelNextTick:ja,detectDirection:_a,getChild:Ee},La.get=function(t){return t[Re]},La.mount=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(La.utils=oe({},La.utils,t.utils)),je.mount(t)}))},La.create=function(t,e){return new La(t,e)},La.version="1.13.0";var Ga,Ha,za,Wa,Xa,Ka,Va=[],Ja=!1;function Za(){Va.forEach((function(t){clearInterval(t.pid)})),Va=[]}function Qa(){clearInterval(Ka)}var tn=Be((function(t,e,a,n){if(e.scroll){var r,i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,u=Pe(),c=!1;Ha!==a&&(Ha=a,Za(),Ga=e.scroll,r=e.scrollFn,!0===Ga&&(Ga=Ae(a,!0)));var d=0,h=Ga;do{var m=h,p=xe(m),f=p.top,v=p.bottom,g=p.left,y=p.right,b=p.width,w=p.height,S=void 0,k=void 0,N=m.scrollWidth,C=m.scrollHeight,M=Ce(m),D=m.scrollLeft,P=m.scrollTop;m===u?(S=b<N&&("auto"===M.overflowX||"scroll"===M.overflowX||"visible"===M.overflowX),k=w<C&&("auto"===M.overflowY||"scroll"===M.overflowY||"visible"===M.overflowY)):(S=b<N&&("auto"===M.overflowX||"scroll"===M.overflowX),k=w<C&&("auto"===M.overflowY||"scroll"===M.overflowY));var x=S&&(Math.abs(y-i)<=s&&D+b<N)-(Math.abs(g-i)<=s&&!!D),U=k&&(Math.abs(v-o)<=s&&P+w<C)-(Math.abs(f-o)<=s&&!!P);if(!Va[d])for(var E=0;E<=d;E++)Va[E]||(Va[E]={});Va[d].vx==x&&Va[d].vy==U&&Va[d].el===m||(Va[d].el=m,Va[d].vx=x,Va[d].vy=U,clearInterval(Va[d].pid),0==x&&0==U||(c=!0,Va[d].pid=setInterval(function(){n&&0===this.layer&&La.active._onTouchMove(Xa);var e=Va[this.layer].vy?Va[this.layer].vy*l:0,a=Va[this.layer].vx?Va[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(La.dragged.parentNode[Re],a,e,t,Xa,Va[this.layer].el)||Le(Va[this.layer].el,a,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==u&&(h=Ae(h,!1)));Ja=c}}),30),en=function(t){var e=t.originalEvent,a=t.putSortable,n=t.dragEl,r=t.activeSortable,i=t.dispatchSortableEvent,o=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var l=a||r;o();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(u.clientX,u.clientY);s(),l&&!l.el.contains(c)&&(i("spill"),this.onSpill({dragEl:n,putSortable:a}))}};function an(){}function nn(){}an.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,a=t.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var n=Ee(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),a&&a.animateAll()},drop:en},ie(an,{pluginName:"revertOnSpill"}),nn.prototype={onSpill:function(t){var e=t.dragEl,a=t.putSortable||this.sortable;a.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),a.animateAll()},drop:en},ie(nn,{pluginName:"removeOnSpill"});La.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?ve(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ve(document,"pointermove",this._handleFallbackAutoScroll):e.touches?ve(document,"touchmove",this._handleFallbackAutoScroll):ve(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?ge(document,"dragover",this._handleAutoScroll):(ge(document,"pointermove",this._handleFallbackAutoScroll),ge(document,"touchmove",this._handleFallbackAutoScroll),ge(document,"mousemove",this._handleFallbackAutoScroll)),Qa(),Za(),clearTimeout(Se),Se=void 0},nulling:function(){Xa=Ha=Ga=Ja=Ka=za=Wa=null,Va.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var a=this,n=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,i=document.elementFromPoint(n,r);if(Xa=t,e||ce||ue||he){tn(t,this.options,i,e);var o=Ae(i,!0);!Ja||Ka&&n===za&&r===Wa||(Ka&&Qa(),Ka=setInterval((function(){var i=Ae(document.elementFromPoint(n,r),!0);i!==o&&(o=i,Za()),tn(t,a.options,i,e)}),10),za=n,Wa=r)}else{if(!this.options.bubbleScroll||Ae(i,!0)===Pe())return void Za();tn(t,this.options,Ae(i,!1),!1)}}},ie(t,{pluginName:"scroll",initializeByDefault:!0})}),La.mount(nn,an);var rn=La,on=function(){function t(){}return t.prototype.roleMap=function(){return{batter:"batter",wk:"wk",bowler:"bowler",bowler_1:"1_bowler",bowler_2:"2_bowler"}},t}(),sn=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.player=this.attrs.player,this.latestUpdate=null,this.saving=!1,this.loading=!1,this.player.user()&&this.loadUpdates()},a.className=function(){return"Modal--small"},a.title=function(){return r.a.translator.trans("hcl.forum.player.release.title")},a.content=function(){var t=this;if(this.loading)return m("div",{className:"Modal-body"},m(Y.a,null));var e="";return e=this.player.user()&&this.latestUpdate?r.a.translator.trans("hcl.forum.player.release.warning_update",{latestUpdate:this.latestUpdate.weekEnding().toDateString()}):r.a.translator.trans("hcl.forum.player.release.warning"),m("div",{className:"Modal-body"},m("h2",null,e),m("div",{className:"Form-gruop"},m(p.a,{onclick:function(){return t.hide()},className:"Button Button--primary",disabled:this.loading||this.saving},r.a.translator.trans("hcl.forum.basics.cancel")),m(p.a,{type:"submit",className:"Button Button--danger",loading:this.saving,disabled:this.saving||this.saving},r.a.translator.trans("hcl.forum.player.release.button"))))},a.loadUpdates=function(){var t=this;this.loading=!0,r.a.store.find("updates",{filter:{q:"username:"+this.player.user().username()},page:{limit:1},sort:"-submittedAt"}).then((function(e){t.latestUpdate=e[0],m.redraw()})).finally((function(){return t.loading=!1}))},a.onsubmit=function(t){var e=this;t.preventDefault(),this.saving=!0,r.a.request({url:r.a.forum.attribute("apiUrl")+"/players/"+this.player.id()+"/release",method:"POST"}).then((function(t){e.hide(),r.a.alerts.show({type:"success"},r.a.translator.trans("hcl.forum.alerts.player_released")),e.attrs.onexit()})).finally((function(){e.saving=!1}))},e}(Q.a);function ln(t){var e={},a=(new on).roleMap();for(var n in a)e[n]=r.a.translator.trans("hcl.lib.player_role."+n,{style:r.a.translator.trans("hcl.forum.player.style."+t)});return e}var un=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.saving=!1,this.team=this.attrs.team,this.gmView=r.a.session.user===this.team.gmUser()||r.a.session.user===this.team.agmUser()||r.a.forum.attribute("adminUrl"),this.forcedRefreshKey=0},a.view=function(){var t=this,e={backgroundImage:"url("+this.team.logoLink()+")",backgroundColor:""+G()("#"+this.team.primaryColor()).darken(.35).hex()},a=null;this.gmView&&(a=m(p.a,{className:"button Button--primary",disabled:this.saving,loading:this.saving,onclick:function(){return t.saveTeam()}},"Save"));var n="TeamCard--item",i=[m("legend",{className:"TeamCard-flag"}),m("legend",null,r.a.translator.trans("hcl.forum.basics.player")),m("legend",null,r.a.translator.trans("hcl.forum.basics.role")),m("legend",null,r.a.translator.trans("hcl.forum.basics.tpa"))];return this.gmView&&(n+=" TeamCard--gm",i.push(m("legend",null))),m("div",{className:"TeamCard",key:this.forcedRefreshKey,oncreate:this.onListCreate.bind(this)},m("div",{className:"TeamCard-header",style:e},m("h1",null,this.team.name())),m("div",{className:"TeamCard-players"},m("li",{className:n},i),m("ul",{className:"PlayerList"},this.getPlayers().map((function(e){return function(t,e,a,n){var i=[m("div",{className:"TeamCard-flag"},J(t.nationality().toLowerCase())),m("div",null,t.user()?m(X.a,{href:r.a.route("user.player",{username:t.user().username()})},t.name()):t.name())],o="TeamCard--item";if(e)i.push(m("div",null,m(kt.a,{options:ln(t.bowlingStyle()),value:t.role()||"batter",onchange:function(e){return a(t,e)}}))),i.push(m("div",{className:""},t.tpa())),i.push(m("div",null,m(p.a,{icon:"fas fa-times",className:"Button Button--danger",onclick:function(){return r.a.modal.show(sn,{player:t,onexit:n})}},r.a.translator.trans("hcl.forum.player.release.button")))),o+=" TeamCard--gm";else{var s=t.role()||"batter";i.push(m("div",null,r.a.translator.trans("hcl.lib.player_role."+s,{style:r.a.translator.trans("hcl.forum.player.style."+t.bowlingStyle())}))),i.push(m("div",null,t.tpa()))}return m("li",{"data-id":t.id(),key:t.id()+"_"+t.order(),className:o},i)}(e,t.gmView,t.changeRole.bind(t),t.onRelease.bind(t))})))),m("div",{className:"Button-group"},a))},a.getPlayers=function(){var t=this;return r.a.store.all("players").filter((function(e){return e.team()===t.team})).sort((function(t,e){return t.order()-e.order()}))},a.onListCreate=function(){var t=this;this.gmView&&this.$(".PlayerList").get().map((function(e){rn.create(e,{animation:150,swapThreshold:.65,dragClass:"sortable-dragging",ghostClass:"sortable-placeholder",onSort:function(e){return t.onSortUpdate(e)}})}))},a.onSortUpdate=function(){this.$(".PlayerList > li").map((function(){return{id:$(this).data("id")}})).get().forEach((function(t,e){r.a.store.getById("players",t.id).pushData({attributes:{order:e}})})),this.forcedRefreshKey++,m.redraw()},a.changeRole=function(t,e){r.a.store.getById("players",t.id()).pushData({attributes:{role:e}}),m.redraw()},a.onRelease=function(){window.location.reload()},a.saveTeam=function(){var t=this;this.saving=!0;var e=this.getPlayers().map((function(t){return{id:t.id(),order:t.order(),role:t.role()}}));r.a.request({url:r.a.forum.attribute("apiUrl")+"/teams/"+this.team.id()+"/roles",method:"POST",body:{players:e}}).then((function(){r.a.alerts.show({type:"success"},"Team saved")})).finally((function(){t.saving=!1}))},e}(z.a),cn=function(t){function e(){return t.apply(this,arguments)||this}x(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.loading=!1,this.teams=[],this.teamId=m.route.param("id"),this.loadTeams().then(this.parseResults.bind(this)),this.teamItems=this.teamItems.bind(this)},a.view=function(){var t=this;return m("div",{className:"IndexPage TeamPage"},k.a.prototype.hero(),m("div",{className:"container"},m("div",{className:"sideNavContainer"},m("nav",{className:"IndexPage-nav sideNav"},m("ul",null,wt()(this.sidebarItems().toArray()))),m("div",{className:"IndexPage-results sideNavOffset"},this.hasTeams()&&!this.loading?[m("div",{className:"IndexPage-toolbar"},m("ul",{className:"TeamsPage-toolbar"},wt()(this.teamItems().toArray()))),this.teamId?m(un,{team:this.teams.filter((function(e){return e.id()===t.teamId}))[0]}):null]:[m(Y.a,{className:"LoadingIndicator--block"})]))))},a.sidebarItems=function(){var t=k.a.prototype.sidebarItems();return t.replace("nav",Ct.a.component({buttonClassName:"Button",className:"App-titleControl"},this.navItems().toArray())),t},a.navItems=function(){var t=k.a.prototype.navItems(),e=this.teamId?r.a.route("teams.show",{id:this.teamId}):r.a.route("teams");return t.add("hcl-team-directory",y.a.component({href:e,icon:"fas fa-hiking"},r.a.translator.trans("hcl.forum.page.team_directory")),85),t},a.teamItems=function(){var t=this,e=new ct.a;return this.hasTeams()&&this.teams.forEach((function(a){var n="Button-team",i={backgroundImage:"url("+a.logoLink()+")"};t.teamId===a.id()&&(n+=" Button-team-active",i.backgroundColor=""+G()("#"+a.primaryColor()).darken(.35).hex()),e.add(a.name(),m(p.a,{style:i,title:a.name(),className:n,onclick:function(){t.teamId=a.id(),m.route.set(r.a.route("teams.show",{id:t.teamId}))}}))})),e},a.loadTeams=function(){this.loading=!0;var t=r.a.preloadedApiDocument();if(t&&t.every((function(t){return t.players()})))return Promise.resolve(t);var e=r.a.store.all("teams");return e.length>0&&e.every((function(t){return t.players()}))?Promise.resolve(e):r.a.store.find("teams")},a.parseResults=function(t){var e;return(e=this.teams).push.apply(e,t),this.loading=!1,m.redraw(),t},a.hasTeams=function(){return this.teams&&this.teams.length>0},e}(ot.a);r.a.initializers.add("cxsquared/howzat-cricket-league",(function(){r.a.store.models.players=T,r.a.store.models.updates=A,r.a.store.models.teams=B,r.a.store.models.playerMovements=L,u.a.prototype.player=s.a.hasOne("player"),u.a.prototype.retiredPlayers=s.a.hasMany("retired_players"),u.a.prototype.submittedUpdates=s.a.hasMany("submitted_updates"),u.a.prototype.gmTeam=s.a.hasOne("gm_team"),r.a.routes.players={path:"/players",component:Ut},r.a.routes["player.create"]={path:"/player/create",component:yt},r.a.routes["user.player"]={path:"/u/:username/player",component:rt},r.a.routes["user.updates"]={path:"/u/:username/updates",component:ae},r.a.routes.updates={path:"/updates",component:Vt},r.a.routes.teams={path:"/teams",component:cn},r.a.routes["teams.show"]={path:"/teams/:id",component:cn},Object(i.extend)(w.a.prototype,"navItems",(function(t){var e=r.a.route("user.player",{username:this.user.username()});t.add("players",m(y.a,{href:e,icon:"fas fa-hiking",class:"Button Button--link hasIcon"},r.a.translator.trans("hcl.forum.user.player_link")),80);var a=r.a.route("user.updates",{username:this.user.username()});t.add("updates",m(y.a,{href:a,icon:"fas fa-certificate",class:"Button Button--link hasIcon"},r.a.translator.trans("hcl.forum.user.updates_link")),80)})),Object(i.extend)(v.a.prototype,"items",(function(t){if(null!=r.a.session.user){if(r.a.session.user.player()){var e=r.a.route("user.player",{username:r.a.session.user.username()});t.add("view-players",m(y.a,{href:e,className:"LinksButton Button Button--link"},r.a.translator.trans("hcl.forum.nav.players_view")),5)}else{var a=r.a.route("player.create");t.add("create-players",m(y.a,{href:a,className:"LinksButton Button Button--link"},r.a.translator.trans("hcl.forum.nav.players_create")),5)}t.add("claimTpe",m(p.a,{className:"LinksButton Button Button--link",onclick:function(){return r.a.modal.show(qt)}},r.a.translator.trans("hcl.forum.nav.claim_tpe")))}})),Object(i.extend)(d.a,"userControls",(function(t,e){null!=r.a.session.user&&r.a.session.user.player()&&t.add("claimTpe",m(p.a,{icon:"fas fa-certificate",onclick:function(){return r.a.modal.show(qt,{post:e})}},r.a.translator.trans("hcl.forum.basics.claim_tpe")),4)})),Object(i.extend)(C.a.prototype,"items",(function(t){r.a.forum.attribute("canEditUpdates")&&t.add("updates",y.a.component({icon:"fas fa-pen",href:r.a.route("updates")},r.a.translator.trans("hcl.forum.header.update_button")),5)})),r.a.notificationComponents.updateApproved=Qt,r.a.notificationComponents.updateDenied=te,Object(i.extend)(D.a.prototype,"notificationTypes",(function(t){t.add("updateApproved",{name:"updateApproved",icon:"fas fa-certificate",label:r.a.translator.trans("hcl.forum.settings.notify_update_approved")}),t.add("updateDenied",{name:"updateDenied",icon:"fas fa-certificate",label:r.a.translator.trans("hcl.forum.settings.notify_denied_approved")})})),Object(i.extend)(k.a.prototype,"navItems",(function(t){t.add("hcl-player-directory",y.a.component({href:r.a.route("players"),icon:"fas fa-hiking"},r.a.translator.trans("hcl.forum.page.player_directory")),85),t.add("hcl-team-directory",y.a.component({href:r.a.route("teams"),icon:"fas fa-hiking"},r.a.translator.trans("hcl.forum.page.team_directory")),85)}))}))}]);
//# sourceMappingURL=forum.js.map